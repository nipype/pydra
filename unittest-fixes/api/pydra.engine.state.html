

<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>pydra.engine.state module &mdash; Pydra: A simple dataflow engine with scalable semantics 0.24 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css" />
      <link rel="stylesheet" type="text/css" href="../_static/banner.css" />

  
      <script src="../_static/jquery.js"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
      <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
      <script src="../_static/doctools.js"></script>
      <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="pydra.engine.submitter module" href="pydra.engine.submitter.html" />
    <link rel="prev" title="pydra.engine.specs module" href="pydra.engine.specs.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            Pydra: A simple dataflow engine with scalable semantics
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../user_guide.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changes.html">Release Notes</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../api.html">Library API (application programmer interface)</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../api.html#pydra.AuditFlag"><code class="docutils literal notranslate"><span class="pre">AuditFlag</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#pydra.ShellCommandTask"><code class="docutils literal notranslate"><span class="pre">ShellCommandTask</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#pydra.Submitter"><code class="docutils literal notranslate"><span class="pre">Submitter</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../api.html#pydra.Workflow"><code class="docutils literal notranslate"><span class="pre">Workflow</span></code></a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../api.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="pydra.engine.html">pydra.engine package</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="pydra.engine.html#pydra.engine.AuditFlag"><code class="docutils literal notranslate"><span class="pre">AuditFlag</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="pydra.engine.html#pydra.engine.ShellCommandTask"><code class="docutils literal notranslate"><span class="pre">ShellCommandTask</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="pydra.engine.html#pydra.engine.Submitter"><code class="docutils literal notranslate"><span class="pre">Submitter</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="pydra.engine.html#pydra.engine.Workflow"><code class="docutils literal notranslate"><span class="pre">Workflow</span></code></a></li>
<li class="toctree-l4 current"><a class="reference internal" href="pydra.engine.html#submodules">Submodules</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="pydra.mark.html">pydra.mark package</a></li>
<li class="toctree-l3"><a class="reference internal" href="pydra.tasks.html">pydra.tasks package</a></li>
<li class="toctree-l3"><a class="reference internal" href="pydra.utils.html">pydra.utils package</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Pydra: A simple dataflow engine with scalable semantics</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../api.html">Library API (application programmer interface)</a></li>
          <li class="breadcrumb-item"><a href="pydra.engine.html">pydra.engine package</a></li>
      <li class="breadcrumb-item active">pydra.engine.state module</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/api/pydra.engine.state.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  


    
    



    <p class="scv-banner scv-sphinx_rtd_theme"><a href="../../master/api/pydra.engine.state.html"><b>Warning:</b> This document is for the development version of Pydra: A simple dataflow engine with scalable semantics. The main version is master.</a></p>
<section id="module-pydra.engine.state">
<span id="pydra-engine-state-module"></span><h1>pydra.engine.state module<a class="headerlink" href="#module-pydra.engine.state" title="Permalink to this heading"></a></h1>
<p>Keeping track of mapping and reduce operations over tasks.</p>
<dl class="py class">
<dt class="sig sig-object py" id="pydra.engine.state.State">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">pydra.engine.state.</span></span><span class="sig-name descname"><span class="pre">State</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">splitter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">combiner</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">other_states</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pydra.engine.state.State" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.13)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>A class that specifies a State of all tasks.</p>
<blockquote>
<div><ul class="simple">
<li><p>It’s only used when a task have a splitter.</p></li>
<li><p>It contains all information about splitter, combiner, final splitter,
and input values for specific task states
(specified by the splitter and the input).</p></li>
<li><p>It also contains information about the final groups and the final splitter
if combiner is available.</p></li>
</ul>
</div></blockquote>
<dl class="py attribute">
<dt class="sig sig-object py" id="pydra.engine.state.State.name">
<span class="sig-name descname"><span class="pre">name</span></span><a class="headerlink" href="#pydra.engine.state.State.name" title="Permalink to this definition"></a></dt>
<dd><p>name of the state that is the same as a name of the task</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pydra.engine.state.State.splitter">
<span class="sig-name descname"><span class="pre">splitter</span></span><a class="headerlink" href="#pydra.engine.state.State.splitter" title="Permalink to this definition"></a></dt>
<dd><p>can be a str (name of a single input),
tuple for scalar splitter, or list for outer splitter</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">tuple</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pydra.engine.state.State.splitter_rpn_compact">
<span class="sig-name descname"><span class="pre">splitter_rpn_compact</span></span><a class="headerlink" href="#pydra.engine.state.State.splitter_rpn_compact" title="Permalink to this definition"></a></dt>
<dd><p>splitter in <abbr title="reverse Polish notation">RPN</abbr>, using a compact
notation for splitter from previous states, e.g. _NA</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pydra.engine.state.State.splitter_rpn">
<span class="sig-name descname"><span class="pre">splitter_rpn</span></span><a class="headerlink" href="#pydra.engine.state.State.splitter_rpn" title="Permalink to this definition"></a></dt>
<dd><p>splitter represented in RPN,
unwrapping splitters from previous states</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pydra.engine.state.State.combiner">
<span class="sig-name descname"><span class="pre">combiner</span></span><a class="headerlink" href="#pydra.engine.state.State.combiner" title="Permalink to this definition"></a></dt>
<dd><p>list of fields that should be combined
(order is not important)</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pydra.engine.state.State.splitter_final">
<span class="sig-name descname"><span class="pre">splitter_final</span></span><a class="headerlink" href="#pydra.engine.state.State.splitter_final" title="Permalink to this definition"></a></dt>
<dd><p>final splitter that includes the combining process</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pydra.engine.state.State.other_states">
<span class="sig-name descname"><span class="pre">other_states</span></span><a class="headerlink" href="#pydra.engine.state.State.other_states" title="Permalink to this definition"></a></dt>
<dd><p>used to create connections with previous states:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="n">name</span> <span class="n">of</span> <span class="n">a</span> <span class="n">previous</span> <span class="n">state</span><span class="p">:</span>
    <span class="p">(</span><span class="n">previous</span> <span class="n">state</span><span class="p">,</span> <span class="nb">input</span> <span class="kn">from</span> <span class="nn">current</span> <span class="n">state</span> <span class="n">needed</span> <span class="n">the</span> <span class="n">connection</span><span class="p">)</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pydra.engine.state.State.inner_inputs">
<span class="sig-name descname"><span class="pre">inner_inputs</span></span><a class="headerlink" href="#pydra.engine.state.State.inner_inputs" title="Permalink to this definition"></a></dt>
<dd><p>used to create connections with previous states
<code class="docutils literal notranslate"><span class="pre">{&quot;{self.name}.input</span> <span class="pre">name</span> <span class="pre">for</span> <span class="pre">current</span> <span class="pre">inp&quot;:</span> <span class="pre">previous</span> <span class="pre">state}</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pydra.engine.state.State.states_ind">
<span class="sig-name descname"><span class="pre">states_ind</span></span><a class="headerlink" href="#pydra.engine.state.State.states_ind" title="Permalink to this definition"></a></dt>
<dd><p>dictionary for every state that contains
indices for all state inputs (i.e. inputs that are part of the splitter)</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a> of <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pydra.engine.state.State.states_val">
<span class="sig-name descname"><span class="pre">states_val</span></span><a class="headerlink" href="#pydra.engine.state.State.states_val" title="Permalink to this definition"></a></dt>
<dd><p>dictionary for every state that contains
values for all state inputs (i.e. inputs that are part of the splitter)</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a> of <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pydra.engine.state.State.inputs_ind">
<span class="sig-name descname"><span class="pre">inputs_ind</span></span><a class="headerlink" href="#pydra.engine.state.State.inputs_ind" title="Permalink to this definition"></a></dt>
<dd><p>dictionary for every state that contains
indices for all task inputs (i.e. inputs that are relevant
for current task, can be outputs from previous nodes)</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a> of <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pydra.engine.state.State.group_for_inputs">
<span class="sig-name descname"><span class="pre">group_for_inputs</span></span><a class="headerlink" href="#pydra.engine.state.State.group_for_inputs" title="Permalink to this definition"></a></dt>
<dd><p>specifying groups (axes) for each input field
(depends on the splitter)</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pydra.engine.state.State.group_for_inputs_final">
<span class="sig-name descname"><span class="pre">group_for_inputs_final</span></span><a class="headerlink" href="#pydra.engine.state.State.group_for_inputs_final" title="Permalink to this definition"></a></dt>
<dd><p>specifying final groups (axes)
for each input field (depends on the splitter and combiner)</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pydra.engine.state.State.groups_stack_final">
<span class="sig-name descname"><span class="pre">groups_stack_final</span></span><a class="headerlink" href="#pydra.engine.state.State.groups_stack_final" title="Permalink to this definition"></a></dt>
<dd><p>specify stack of groups/axes (used to
determine which field could be combined)</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="pydra.engine.state.State.final_combined_ind_mapping">
<span class="sig-name descname"><span class="pre">final_combined_ind_mapping</span></span><a class="headerlink" href="#pydra.engine.state.State.final_combined_ind_mapping" title="Permalink to this definition"></a></dt>
<dd><p>mapping between final indices
after combining and partial indices of the results</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="id0">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">combiner</span></span><a class="headerlink" href="#id0" title="Permalink to this definition"></a></dt>
<dd><p>the combiner associated to the state.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydra.engine.state.State.combiner_validation">
<span class="sig-name descname"><span class="pre">combiner_validation</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pydra.engine.state.State.combiner_validation" title="Permalink to this definition"></a></dt>
<dd><p>validating if the combiner is correct (after all states are connected)</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pydra.engine.state.State.current_combiner">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">current_combiner</span></span><a class="headerlink" href="#pydra.engine.state.State.current_combiner" title="Permalink to this definition"></a></dt>
<dd><p>the current part of the combiner,
i.e. the part that is related to the current task’s state only
(doesn’t include fields propagated from the previous tasks)</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pydra.engine.state.State.current_combiner_all">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">current_combiner_all</span></span><a class="headerlink" href="#pydra.engine.state.State.current_combiner_all" title="Permalink to this definition"></a></dt>
<dd><p>the current part of the combiner including all the fields
that should be combined (i.e. not only the fields that are explicitly
set, but also the fields that re in the same group/axis and had to be combined
together, e.g., if splitter is (a, b) a and b has to be combined together)</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pydra.engine.state.State.current_splitter">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">current_splitter</span></span><a class="headerlink" href="#pydra.engine.state.State.current_splitter" title="Permalink to this definition"></a></dt>
<dd><p>the current part of the splitter,
i.e. the part that is related to the current task’s state only
(doesn’t include fields propagated from the previous tasks)</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pydra.engine.state.State.current_splitter_rpn">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">current_splitter_rpn</span></span><a class="headerlink" href="#pydra.engine.state.State.current_splitter_rpn" title="Permalink to this definition"></a></dt>
<dd><p>the current part of the splitter using RPN</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="id1">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">inner_inputs</span></span><a class="headerlink" href="#id1" title="Permalink to this definition"></a></dt>
<dd><p>specifies connections between fields from the current state
with the specific state from the previous states, uses dictionary
<code class="docutils literal notranslate"><span class="pre">{input</span> <span class="pre">name</span> <span class="pre">for</span> <span class="pre">current</span> <span class="pre">state:</span> <span class="pre">the</span> <span class="pre">previous</span> <span class="pre">state}</span></code></p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="id2">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">other_states</span></span><a class="headerlink" href="#id2" title="Permalink to this definition"></a></dt>
<dd><p>specifies the connections with previous states, uses dictionary:
{name of a previous state: (previous state, input field from current state)}</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydra.engine.state.State.prepare_inputs">
<span class="sig-name descname"><span class="pre">prepare_inputs</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pydra.engine.state.State.prepare_inputs" title="Permalink to this definition"></a></dt>
<dd><p>Preparing inputs indices, merges input from previous states.</p>
<p>Includes indices for fields from inner splitters
(removes elements connected to the inner splitters fields).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydra.engine.state.State.prepare_states">
<span class="sig-name descname"><span class="pre">prepare_states</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cont_dim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pydra.engine.state.State.prepare_states" title="Permalink to this definition"></a></dt>
<dd><p>Prepare a full list of state indices and state values.</p>
<dl class="simple">
<dt>State Indices</dt><dd><p>number of elements depends on the splitter</p>
</dd>
<dt>State Values</dt><dd><p>specific elements from inputs that can be used running interfaces</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inputs</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>) – inputs of the task</p></li>
<li><p><strong>cont_dim</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a> or <cite>None</cite>) – container’s dimensions for a specific input’s fields</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydra.engine.state.State.prepare_states_combined_ind">
<span class="sig-name descname"><span class="pre">prepare_states_combined_ind</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">elements_to_remove_comb</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pydra.engine.state.State.prepare_states_combined_ind" title="Permalink to this definition"></a></dt>
<dd><p>Prepare the final list of dictionaries with indices after combiner.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>elements_to_remove_comb</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a>) – elements of the splitter that should be removed due to the combining</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydra.engine.state.State.prepare_states_ind">
<span class="sig-name descname"><span class="pre">prepare_states_ind</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pydra.engine.state.State.prepare_states_ind" title="Permalink to this definition"></a></dt>
<dd><p>Calculate a list of dictionaries with state indices.</p>
<p>Uses hlpst.splits.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydra.engine.state.State.prepare_states_val">
<span class="sig-name descname"><span class="pre">prepare_states_val</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pydra.engine.state.State.prepare_states_val" title="Permalink to this definition"></a></dt>
<dd><p>Evaluate states values having states indices.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pydra.engine.state.State.prev_state_combiner">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">prev_state_combiner</span></span><a class="headerlink" href="#pydra.engine.state.State.prev_state_combiner" title="Permalink to this definition"></a></dt>
<dd><p>the prev-state part of the combiner,
i.e. the part that comes from the previous tasks’ states</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pydra.engine.state.State.prev_state_combiner_all">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">prev_state_combiner_all</span></span><a class="headerlink" href="#pydra.engine.state.State.prev_state_combiner_all" title="Permalink to this definition"></a></dt>
<dd><p>the prev-state part of the combiner including all the fields
that should be combined (i.e. not only the fields that are explicitly
set, but also the fields that re in the same group/axis and had to be combined
together, e.g., if splitter is (a, b) a and b has to be combined together)</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pydra.engine.state.State.prev_state_splitter">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">prev_state_splitter</span></span><a class="headerlink" href="#pydra.engine.state.State.prev_state_splitter" title="Permalink to this definition"></a></dt>
<dd><p>the prev-state part of the splitter,
i.e. the part that comes from the previous tasks’ states</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pydra.engine.state.State.prev_state_splitter_rpn">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">prev_state_splitter_rpn</span></span><a class="headerlink" href="#pydra.engine.state.State.prev_state_splitter_rpn" title="Permalink to this definition"></a></dt>
<dd><p>the prev-state art of the splitter using RPN</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pydra.engine.state.State.prev_state_splitter_rpn_compact">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">prev_state_splitter_rpn_compact</span></span><a class="headerlink" href="#pydra.engine.state.State.prev_state_splitter_rpn_compact" title="Permalink to this definition"></a></dt>
<dd><p>the prev-state part of the splitter using RPN in a compact form,
(without unwrapping the states from previous nodes), e.g. [_NA, _NB, *]</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydra.engine.state.State.set_input_groups">
<span class="sig-name descname"><span class="pre">set_input_groups</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">state_fields</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pydra.engine.state.State.set_input_groups" title="Permalink to this definition"></a></dt>
<dd><p>Evaluates groups, especially the final groups that address the combiner.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>state_fields</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>) – if False the splitter from the previous states are unwrapped</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydra.engine.state.State.splits">
<span class="sig-name descname"><span class="pre">splits</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">splitter_rpn</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pydra.engine.state.State.splits" title="Permalink to this definition"></a></dt>
<dd><p>Splits input variable as specified by splitter</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>splitter_rpn</strong> (<em>list</em>) – splitter in RPN notation</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>splitter</strong> (<em>list</em>) – each element contains indices for input variables</p></li>
<li><p><strong>keys</strong> (<em>list</em>) – names of input variables</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="id3">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">splitter</span></span><a class="headerlink" href="#id3" title="Permalink to this definition"></a></dt>
<dd><p>Get the splitter of the state.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="id4">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">splitter_final</span></span><a class="headerlink" href="#id4" title="Permalink to this definition"></a></dt>
<dd><p>the final splitter, after removing the combined fields</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="id5">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">splitter_rpn</span></span><a class="headerlink" href="#id5" title="Permalink to this definition"></a></dt>
<dd><p>splitter in <abbr title="Reverse Polish Notation">RPN</abbr></p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="id6">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">splitter_rpn_compact</span></span><a class="headerlink" href="#id6" title="Permalink to this definition"></a></dt>
<dd><p>splitter in <abbr title="Reverse Polish Notation">RPN</abbr>
with a compact representation of the prev-state part (i.e. without unwrapping
the part that comes from the previous states), e.g., [_NA, _NB, *]</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="pydra.engine.state.State.splitter_rpn_final">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">splitter_rpn_final</span></span><a class="headerlink" href="#pydra.engine.state.State.splitter_rpn_final" title="Permalink to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydra.engine.state.State.splitter_validation">
<span class="sig-name descname"><span class="pre">splitter_validation</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pydra.engine.state.State.splitter_validation" title="Permalink to this definition"></a></dt>
<dd><p>validating if the splitter is correct (after all states are connected)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="pydra.engine.state.State.update_connections">
<span class="sig-name descname"><span class="pre">update_connections</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_other_states</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_combiner</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#pydra.engine.state.State.update_connections" title="Permalink to this definition"></a></dt>
<dd><p>updating connections, can use a new other_states and combiner</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>new_other_states</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dict</span></code></a>, optional) – dictionary with new other_states, will be set before updating connections</p></li>
<li><p><strong>new_combiner</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>, or <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.13)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">list</span></code></a>, optional) – new combiner</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="pydra.engine.specs.html" class="btn btn-neutral float-left" title="pydra.engine.specs module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="pydra.engine.submitter.html" class="btn btn-neutral float-right" title="pydra.engine.submitter module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2019 - 2020, The Nipype Developers team.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
        <span class="fa fa-book"> Other Versions</span>
        v: unittest-fixes
        <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
        <dl>
            <dt>Tags</dt>
            <dd><a href="../../0.21/api/pydra.engine.state.html">0.21</a></dd>
            <dd><a href="../../0.22/api/pydra.engine.state.html">0.22</a></dd>
            <dd><a href="../../0.23/api/pydra.engine.state.html">0.23</a></dd>
            <dd><a href="../../0.23.0-alpha/api/pydra.engine.state.html">0.23.0-alpha</a></dd>
            <dd><a href="../../0.24/api/pydra.engine.state.html">0.24</a></dd>
            <dd><a href="../../0.25/api/pydra.engine.state.html">0.25</a></dd>
        </dl>
        <dl>
            <dt>Branches</dt>
            <dd><a href="../../ci_test-py3.11-windows/api/pydra.engine.state.html">ci/test-py3.11-windows</a></dd>
            <dd><a href="../../debugging-hashing/api/pydra.engine.state.html">debugging-hashing</a></dd>
            <dd><a href="../../effigies_input-spec-suggestions/api/pydra.engine.state.html">effigies/input-spec-suggestions</a></dd>
            <dd><a href="../../master/api/pydra.engine.state.html">master</a></dd>
            <dd><a href="../../mriqc-hacking/api/pydra.engine.state.html">mriqc-hacking</a></dd>
            <dd><a href="../../new-syntax/index.html">new-syntax</a></dd>
            <dd><a href="../../pre-commit-ci-update-config/api/pydra.engine.state.html">pre-commit-ci-update-config</a></dd>
            <dd><a href="pydra.engine.state.html">unittest-fixes</a></dd>
        </dl>
    </div>
</div>
<script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>