<!doctype html>
<html class="no-js" lang="English" data-content_root="">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />
<link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="Advanced execution" href="2-advanced-execution.html" /><link rel="prev" title="Pydra" href="../index.html" />

    <!-- Generated with Sphinx 6.2.1 and Furo 2024.08.06 -->
        <title>Getting started - Pydra v0.25</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?digest=04c057b233f3c8d71940eee6080f658a04e2027d" />
    <link rel="stylesheet" type="text/css" href="../_static/nbsphinx-code-cells.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?digest=cf727022eb7470bc603c08d2e55c3247faec75c9" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css" />
    
    


<style>
  body {
    --color-code-background: #ffffff;
  --color-code-foreground: black;
  --color-brand-primary: #69306d;
  --color-brand-content: #69306d;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #111111;
  --color-code-foreground: #ffffff;
  --color-brand-primary: #ce8dcf;
  --color-brand-content: #ce8dcf;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #111111;
  --color-code-foreground: #ffffff;
  --color-brand-primary: #ce8dcf;
  --color-brand-content: #ce8dcf;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">Pydra v0.25</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="../_static/pydra_logo.png" alt="Logo"/>
  </div>
  
  <span class="sidebar-brand-text">Pydra v0.25</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Tutorials: Execution</span></p>
<ul class="current">
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Getting started</a></li>
<li class="toctree-l1"><a class="reference internal" href="2-advanced-execution.html">Advanced execution</a></li>
<li class="toctree-l1"><a class="reference internal" href="3-troubleshooting.html">Troubleshooting</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Tutorials: Design</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="4-python.html">Python-tasks</a></li>
<li class="toctree-l1"><a class="reference internal" href="5-shell.html">Shell-tasks</a></li>
<li class="toctree-l1"><a class="reference internal" href="6-workflow.html">Workflows</a></li>
<li class="toctree-l1"><a class="reference internal" href="7-canonical-form.html">Canonical task form</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Examples</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../examples/t1w-preprocess.html">T1w MRI preprocessing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/first-level-glm.html">One-Level GLM</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/two-level-glm.html">Two-Level GLM</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">How-to</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../howto/create-task-package.html">Create a task package</a></li>
<li class="toctree-l1"><a class="reference internal" href="../howto/port-from-nipype.html">Port interfaces from Nipype</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Explanation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../explanation/design-approach.html">Design philosophy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../explanation/splitting-combining.html">Splitting and combining</a></li>
<li class="toctree-l1"><a class="reference internal" href="../explanation/conditional-lazy.html">Dynamic construction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../explanation/environments.html">Software environments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../explanation/hashing-caching.html">Caches and hashes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../explanation/typing.html">Typing and file-formats</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../reference/api.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../genindex.html">Index</a></li>
<li class="toctree-l1"><a class="reference internal" href="../py-modindex.html">Module Index</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="../_sources/tutorial/1-getting-started.ipynb.txt" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div>
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="Getting-started">
<h1>Getting started<a class="headerlink" href="#Getting-started" title="Permalink to this heading">¶</a></h1>
<p>The basic runnable component of Pydra is a <em>task</em>. Tasks are conceptually similar to functions, in that they take inputs, operate on them and then return results. However, unlike functions, tasks are parameterised before they are executed in a separate step. This enables parameterised tasks to be linked together into workflows that are checked for errors before they are executed, and modular execution workers and environments to specified independently of the task being performed.</p>
<p>Tasks can encapsulate Python functions or shell-commands, or be multi-component workflows, themselves constructed from task components including nested workflows.</p>
<section id="Preparation">
<h2>Preparation<a class="headerlink" href="#Preparation" title="Permalink to this heading">¶</a></h2>
<p>Before we get started, lets set up some test data to play with. Here we create a sample JSON file in a temporary directory</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">pathlib</span><span class="w"> </span><span class="kn">import</span> <span class="n">Path</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">tempfile</span><span class="w"> </span><span class="kn">import</span> <span class="n">mkdtemp</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">json</span>

<span class="n">JSON_CONTENTS</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;a&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">:</span> <span class="s1">&#39;two&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span> <span class="s1">&#39;d&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">7</span><span class="p">,</span> <span class="mf">0.55</span><span class="p">,</span> <span class="mi">6</span><span class="p">]}</span>

<span class="n">test_dir</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">mkdtemp</span><span class="p">())</span>
<span class="n">json_file</span> <span class="o">=</span> <span class="n">test_dir</span> <span class="o">/</span> <span class="s2">&quot;test.json&quot;</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">json_file</span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">json</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">JSON_CONTENTS</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Next we create a directory containing 10 randomly generated <a class="reference external" href="https://nifti.nimh.nih.gov/">NIfTI</a> files</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">fileformats.medimage</span><span class="w"> </span><span class="kn">import</span> <span class="n">Nifti1</span>

<span class="n">nifti_dir</span> <span class="o">=</span> <span class="n">test_dir</span> <span class="o">/</span> <span class="s2">&quot;nifti&quot;</span>
<span class="n">nifti_dir</span><span class="o">.</span><span class="n">mkdir</span><span class="p">()</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
    <span class="n">Nifti1</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="n">nifti_dir</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="n">i</span><span class="p">)</span>  <span class="c1"># Create a dummy NIfTI file in the dest. directory</span>
</pre></div>
</div>
</div>
<p>Note that when you run concurrent processes within a Jupyter notebook the following snippet is also required</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">nest_asyncio</span>
<span class="n">nest_asyncio</span><span class="o">.</span><span class="n">apply</span><span class="p">()</span>
</pre></div>
</div>
</div>
</section>
<section id="Running-your-first-task">
<h2>Running your first task<a class="headerlink" href="#Running-your-first-task" title="Permalink to this heading">¶</a></h2>
<p>Pre-defined task definitions are installed under the <code class="docutils literal notranslate"><span class="pre">pydra.tasks.*</span></code> namespace by separate task packages (e.g. <code class="docutils literal notranslate"><span class="pre">pydra-fsl</span></code>, <code class="docutils literal notranslate"><span class="pre">pydra-ants</span></code>, …). To use a pre-defined task definition</p>
<ul class="simple">
<li><p>import the class from the <code class="docutils literal notranslate"><span class="pre">pydra.tasks.*</span></code> package it is in</p></li>
<li><p>instantiate it with appropriate parameters</p></li>
<li><p>&quot;call&quot; resulting object (i.e. <code class="docutils literal notranslate"><span class="pre">my_task(...)</span></code>) to execute it as you would a function</p></li>
</ul>
<p>To demonstrate with an example of loading a JSON file with the <code class="docutils literal notranslate"><span class="pre">pydra.tasks.common.LoadJson</span></code> task, we first create an example JSON file to test with</p>
<p>Now we can load the JSON contents back from the file using the <code class="docutils literal notranslate"><span class="pre">LoadJson</span></code> task definition class</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Import the task definition</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pydra.tasks.common</span><span class="w"> </span><span class="kn">import</span> <span class="n">LoadJson</span>

<span class="c1"># Instantiate the task definition, providing the JSON file we want to load</span>
<span class="n">load_json</span> <span class="o">=</span> <span class="n">LoadJson</span><span class="p">(</span><span class="n">file</span><span class="o">=</span><span class="n">json_file</span><span class="p">)</span>

<span class="c1"># Run the task to load the JSON file</span>
<span class="n">outputs</span> <span class="o">=</span> <span class="n">load_json</span><span class="p">()</span>

<span class="c1"># Access the loaded JSON output contents and check they match original</span>
<span class="k">assert</span> <span class="n">outputs</span><span class="o">.</span><span class="n">out</span> <span class="o">==</span> <span class="n">JSON_CONTENTS</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
A newer version (0.25) of nipype/pydra is available. You are using 0.25.dev206+gd1d95cc9
</pre></div></div>
</div>
</section>
<section id="Iterating-over-inputs">
<h2>Iterating over inputs<a class="headerlink" href="#Iterating-over-inputs" title="Permalink to this heading">¶</a></h2>
<p>It is straightforward to apply the same operation over a set of inputs using the <code class="docutils literal notranslate"><span class="pre">split()</span></code> method. For example, if we wanted to re-grid all the NIfTI images stored in a directory, such as the sample ones generated by the code below</p>
<p>Then we can by importing the <code class="docutils literal notranslate"><span class="pre">MrGrid</span></code> shell-command task from the <code class="docutils literal notranslate"><span class="pre">pydra-mrtrix3</span></code> package and run it over every NIfTI file in the directory using the <code class="docutils literal notranslate"><span class="pre">TaskDef.split()</span></code> method</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">pydra.tasks.mrtrix3.v3_0</span><span class="w"> </span><span class="kn">import</span> <span class="n">MrGrid</span>

<span class="c1"># Instantiate the task definition, &quot;splitting&quot; over all NIfTI files in the test directory</span>
<span class="c1"># by splitting the &quot;input&quot; input field over all files in the directory</span>
<span class="n">mrgrid</span> <span class="o">=</span> <span class="n">MrGrid</span><span class="p">(</span><span class="n">operation</span><span class="o">=</span><span class="s2">&quot;regrid&quot;</span><span class="p">,</span> <span class="n">voxel</span><span class="o">=</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">0.5</span><span class="p">))</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">in_file</span><span class="o">=</span><span class="n">nifti_dir</span><span class="o">.</span><span class="n">iterdir</span><span class="p">())</span>

<span class="c1"># Run the task to resample all NIfTI files</span>
<span class="n">outputs</span> <span class="o">=</span> <span class="n">mrgrid</span><span class="p">()</span>

<span class="c1"># Print the locations of the output files</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">p</span><span class="p">)</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">outputs</span><span class="o">.</span><span class="n">out_file</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">FileNotFoundError</span>                         Traceback (most recent call last)
Cell <span class="ansi-green-fg">In[5], line 8</span>
<span class="ansi-green-intense-fg ansi-bold">      5</span> mrgrid <span style="color: rgb(98,98,98)">=</span> MrGrid(operation<span style="color: rgb(98,98,98)">=</span><span style="color: rgb(175,0,0)">&#34;</span><span style="color: rgb(175,0,0)">regrid</span><span style="color: rgb(175,0,0)">&#34;</span>, voxel<span style="color: rgb(98,98,98)">=</span>(<span style="color: rgb(98,98,98)">0.5</span>,<span style="color: rgb(98,98,98)">0.5</span>,<span style="color: rgb(98,98,98)">0.5</span>))<span style="color: rgb(98,98,98)">.</span>split(in_file<span style="color: rgb(98,98,98)">=</span>nifti_dir<span style="color: rgb(98,98,98)">.</span>iterdir())
<span class="ansi-green-intense-fg ansi-bold">      7</span> <span style="color: rgb(95,135,135)"># Run the task to resample all NIfTI files</span>
<span class="ansi-green-fg">----&gt; 8</span> outputs <span style="color: rgb(98,98,98)">=</span> <span class="ansi-yellow-bg">mrgrid</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg">)</span>
<span class="ansi-green-intense-fg ansi-bold">     10</span> <span style="color: rgb(95,135,135)"># Print the locations of the output files</span>
<span class="ansi-green-intense-fg ansi-bold">     11</span> <span style="color: rgb(0,135,0)">print</span>(<span style="color: rgb(175,0,0)">&#34;</span><span class="ansi-bold" style="color: rgb(175,95,0)">\n</span><span style="color: rgb(175,0,0)">&#34;</span><span style="color: rgb(98,98,98)">.</span>join(<span style="color: rgb(0,135,0)">str</span>(p) <span class="ansi-bold" style="color: rgb(0,135,0)">for</span> p <span class="ansi-bold" style="color: rgb(175,0,255)">in</span> outputs<span style="color: rgb(98,98,98)">.</span>out_file))

File <span class="ansi-green-fg">/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/pydra/engine/specs.py:220</span>, in <span class="ansi-cyan-fg">TaskDef.__call__</span><span class="ansi-blue-fg">(self, cache_dir, worker, environment, rerun, cache_locations, audit_flags, messengers, messenger_args, name, pre_run, post_run, pre_run_task, post_run_task, **kwargs)</span>
<span class="ansi-green-intense-fg ansi-bold">    208</span> <span class="ansi-bold" style="color: rgb(0,135,0)">try</span>:
<span class="ansi-green-intense-fg ansi-bold">    209</span>     <span class="ansi-bold" style="color: rgb(0,135,0)">with</span> Submitter(
<span class="ansi-green-intense-fg ansi-bold">    210</span>         audit_flags<span style="color: rgb(98,98,98)">=</span>audit_flags,
<span class="ansi-green-intense-fg ansi-bold">    211</span>         cache_dir<span style="color: rgb(98,98,98)">=</span>cache_dir,
<span class="ansi-green-fg">   (...)</span>
<span class="ansi-green-intense-fg ansi-bold">    218</span>         <span style="color: rgb(98,98,98)">*</span><span style="color: rgb(98,98,98)">*</span>kwargs,
<span class="ansi-green-intense-fg ansi-bold">    219</span>     ) <span class="ansi-bold" style="color: rgb(0,135,0)">as</span> sub:
<span class="ansi-green-fg">--&gt; 220</span>         result <span style="color: rgb(98,98,98)">=</span> <span class="ansi-yellow-bg">sub</span><span class="ansi-yellow-bg">(</span>
<span class="ansi-green-intense-fg ansi-bold">    221</span> <span class="ansi-yellow-bg">            </span><span class="ansi-yellow-bg" style="color: rgb(0,135,0)">self</span><span class="ansi-yellow-bg">,</span>
<span class="ansi-green-intense-fg ansi-bold">    222</span> <span class="ansi-yellow-bg">            </span><span class="ansi-yellow-bg">name</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">=</span><span class="ansi-yellow-bg">name</span><span class="ansi-yellow-bg">,</span>
<span class="ansi-green-intense-fg ansi-bold">    223</span> <span class="ansi-yellow-bg">            </span><span class="ansi-yellow-bg">pre_run</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">=</span><span class="ansi-yellow-bg">pre_run</span><span class="ansi-yellow-bg">,</span>
<span class="ansi-green-intense-fg ansi-bold">    224</span> <span class="ansi-yellow-bg">            </span><span class="ansi-yellow-bg">post_run</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">=</span><span class="ansi-yellow-bg">post_run</span><span class="ansi-yellow-bg">,</span>
<span class="ansi-green-intense-fg ansi-bold">    225</span> <span class="ansi-yellow-bg">            </span><span class="ansi-yellow-bg">pre_run_task</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">=</span><span class="ansi-yellow-bg">pre_run_task</span><span class="ansi-yellow-bg">,</span>
<span class="ansi-green-intense-fg ansi-bold">    226</span> <span class="ansi-yellow-bg">            </span><span class="ansi-yellow-bg">post_run_task</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">=</span><span class="ansi-yellow-bg">post_run_task</span><span class="ansi-yellow-bg">,</span>
<span class="ansi-green-intense-fg ansi-bold">    227</span> <span class="ansi-yellow-bg">        </span><span class="ansi-yellow-bg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    228</span> <span class="ansi-bold" style="color: rgb(0,135,0)">except</span> <span class="ansi-bold" style="color: rgb(215,95,95)">TypeError</span> <span class="ansi-bold" style="color: rgb(0,135,0)">as</span> e:
<span class="ansi-green-intense-fg ansi-bold">    229</span>     <span style="color: rgb(95,135,135)"># Catch any inadvertent passing of task definition parameters to the</span>
<span class="ansi-green-intense-fg ansi-bold">    230</span>     <span style="color: rgb(95,135,135)"># execution call</span>
<span class="ansi-green-intense-fg ansi-bold">    231</span>     <span class="ansi-bold" style="color: rgb(0,135,0)">if</span> <span style="color: rgb(0,135,0)">hasattr</span>(e, <span style="color: rgb(175,0,0)">&#34;</span><span style="color: rgb(175,0,0)">__notes__</span><span style="color: rgb(175,0,0)">&#34;</span>) <span class="ansi-bold" style="color: rgb(175,0,255)">and</span> WORKER_KWARG_FAIL_NOTE <span class="ansi-bold" style="color: rgb(175,0,255)">in</span> e<span style="color: rgb(98,98,98)">.</span>__notes__:

File <span class="ansi-green-fg">/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/pydra/engine/submitter.py:224</span>, in <span class="ansi-cyan-fg">Submitter.__call__</span><span class="ansi-blue-fg">(self, task_def, name, pre_run, post_run, pre_run_task, post_run_task)</span>
<span class="ansi-green-intense-fg ansi-bold">    219</span> <span class="ansi-bold" style="color: rgb(0,135,0)">except</span> <span class="ansi-bold" style="color: rgb(215,95,95)">Exception</span> <span class="ansi-bold" style="color: rgb(0,135,0)">as</span> e:
<span class="ansi-green-intense-fg ansi-bold">    220</span>     e<span style="color: rgb(98,98,98)">.</span>add_note(
<span class="ansi-green-intense-fg ansi-bold">    221</span>         <span style="color: rgb(175,0,0)">f</span><span style="color: rgb(175,0,0)">&#34;</span><span style="color: rgb(175,0,0)">Full crash report for </span><span class="ansi-bold" style="color: rgb(175,95,135)">{</span><span style="color: rgb(0,135,0)">type</span>(task_def)<span style="color: rgb(98,98,98)">.</span><span style="color: rgb(0,0,135)">__name__</span><span class="ansi-bold" style="color: rgb(175,95,135)">!r}</span><span style="color: rgb(175,0,0)"> task is here: </span><span style="color: rgb(175,0,0)">&#34;</span>
<span class="ansi-green-intense-fg ansi-bold">    222</span>         <span style="color: rgb(98,98,98)">+</span> <span style="color: rgb(0,135,0)">str</span>(task<span style="color: rgb(98,98,98)">.</span>output_dir <span style="color: rgb(98,98,98)">/</span> <span style="color: rgb(175,0,0)">&#34;</span><span style="color: rgb(175,0,0)">_error.pklz</span><span style="color: rgb(175,0,0)">&#34;</span>)
<span class="ansi-green-intense-fg ansi-bold">    223</span>     )
<span class="ansi-green-fg">--&gt; 224</span>     <span class="ansi-bold" style="color: rgb(0,135,0)">raise</span> e
<span class="ansi-green-intense-fg ansi-bold">    225</span> <span class="ansi-bold" style="color: rgb(0,135,0)">finally</span>:
<span class="ansi-green-intense-fg ansi-bold">    226</span>     <span style="color: rgb(0,135,0)">self</span><span style="color: rgb(98,98,98)">.</span>run_start_time <span style="color: rgb(98,98,98)">=</span> <span class="ansi-bold" style="color: rgb(0,135,0)">None</span>

File <span class="ansi-green-fg">/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/pydra/engine/submitter.py:218</span>, in <span class="ansi-cyan-fg">Submitter.__call__</span><span class="ansi-blue-fg">(self, task_def, name, pre_run, post_run, pre_run_task, post_run_task)</span>
<span class="ansi-green-intense-fg ansi-bold">    214</span>         <span style="color: rgb(0,135,0)">self</span><span style="color: rgb(98,98,98)">.</span>loop<span style="color: rgb(98,98,98)">.</span>run_until_complete(
<span class="ansi-green-intense-fg ansi-bold">    215</span>             <span style="color: rgb(0,135,0)">self</span><span style="color: rgb(98,98,98)">.</span>worker<span style="color: rgb(98,98,98)">.</span>run_async(task, rerun<span style="color: rgb(98,98,98)">=</span><span style="color: rgb(0,135,0)">self</span><span style="color: rgb(98,98,98)">.</span>rerun)
<span class="ansi-green-intense-fg ansi-bold">    216</span>         )
<span class="ansi-green-intense-fg ansi-bold">    217</span>     <span class="ansi-bold" style="color: rgb(0,135,0)">else</span>:
<span class="ansi-green-fg">--&gt; 218</span>         <span class="ansi-yellow-bg" style="color: rgb(0,135,0)">self</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">worker</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">run</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg">task</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg">rerun</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">=</span><span class="ansi-yellow-bg" style="color: rgb(0,135,0)">self</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">rerun</span><span class="ansi-yellow-bg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    219</span> <span class="ansi-bold" style="color: rgb(0,135,0)">except</span> <span class="ansi-bold" style="color: rgb(215,95,95)">Exception</span> <span class="ansi-bold" style="color: rgb(0,135,0)">as</span> e:
<span class="ansi-green-intense-fg ansi-bold">    220</span>     e<span style="color: rgb(98,98,98)">.</span>add_note(
<span class="ansi-green-intense-fg ansi-bold">    221</span>         <span style="color: rgb(175,0,0)">f</span><span style="color: rgb(175,0,0)">&#34;</span><span style="color: rgb(175,0,0)">Full crash report for </span><span class="ansi-bold" style="color: rgb(175,95,135)">{</span><span style="color: rgb(0,135,0)">type</span>(task_def)<span style="color: rgb(98,98,98)">.</span><span style="color: rgb(0,0,135)">__name__</span><span class="ansi-bold" style="color: rgb(175,95,135)">!r}</span><span style="color: rgb(175,0,0)"> task is here: </span><span style="color: rgb(175,0,0)">&#34;</span>
<span class="ansi-green-intense-fg ansi-bold">    222</span>         <span style="color: rgb(98,98,98)">+</span> <span style="color: rgb(0,135,0)">str</span>(task<span style="color: rgb(98,98,98)">.</span>output_dir <span style="color: rgb(98,98,98)">/</span> <span style="color: rgb(175,0,0)">&#34;</span><span style="color: rgb(175,0,0)">_error.pklz</span><span style="color: rgb(175,0,0)">&#34;</span>)
<span class="ansi-green-intense-fg ansi-bold">    223</span>     )

File <span class="ansi-green-fg">/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/pydra/engine/workers.py:163</span>, in <span class="ansi-cyan-fg">DebugWorker.run</span><span class="ansi-blue-fg">(self, task, rerun)</span>
<span class="ansi-green-intense-fg ansi-bold">    157</span> <span class="ansi-bold" style="color: rgb(0,135,0)">def</span><span style="color: rgb(188,188,188)"> </span><span style="color: rgb(0,0,255)">run</span>(
<span class="ansi-green-intense-fg ansi-bold">    158</span>     <span style="color: rgb(0,135,0)">self</span>,
<span class="ansi-green-intense-fg ansi-bold">    159</span>     task: <span style="color: rgb(175,0,0)">&#34;</span><span style="color: rgb(175,0,0)">Task[DefType]</span><span style="color: rgb(175,0,0)">&#34;</span>,
<span class="ansi-green-intense-fg ansi-bold">    160</span>     rerun: <span style="color: rgb(0,135,0)">bool</span> <span style="color: rgb(98,98,98)">=</span> <span class="ansi-bold" style="color: rgb(0,135,0)">False</span>,
<span class="ansi-green-intense-fg ansi-bold">    161</span> ) <span style="color: rgb(98,98,98)">-</span><span style="color: rgb(98,98,98)">&gt;</span> <span style="color: rgb(175,0,0)">&#34;</span><span style="color: rgb(175,0,0)">Result</span><span style="color: rgb(175,0,0)">&#34;</span>:
<span class="ansi-green-intense-fg ansi-bold">    162</span> <span style="color: rgb(188,188,188)">    </span><span style="color: rgb(175,0,0)">&#34;&#34;&#34;Run a task.&#34;&#34;&#34;</span>
<span class="ansi-green-fg">--&gt; 163</span>     <span class="ansi-bold" style="color: rgb(0,135,0)">return</span> <span class="ansi-yellow-bg">task</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">run</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg">rerun</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">=</span><span class="ansi-yellow-bg">rerun</span><span class="ansi-yellow-bg">)</span>

File <span class="ansi-green-fg">/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/pydra/engine/core.py:375</span>, in <span class="ansi-cyan-fg">Task.run</span><span class="ansi-blue-fg">(self, rerun)</span>
<span class="ansi-green-intense-fg ansi-bold">    373</span> <span class="ansi-bold" style="color: rgb(0,135,0)">try</span>:
<span class="ansi-green-intense-fg ansi-bold">    374</span>     <span style="color: rgb(0,135,0)">self</span><span style="color: rgb(98,98,98)">.</span>audit<span style="color: rgb(98,98,98)">.</span>monitor()
<span class="ansi-green-fg">--&gt; 375</span>     <span class="ansi-yellow-bg" style="color: rgb(0,135,0)">self</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">definition</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">_run</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg" style="color: rgb(0,135,0)">self</span><span class="ansi-yellow-bg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    376</span>     result<span style="color: rgb(98,98,98)">.</span>outputs <span style="color: rgb(98,98,98)">=</span> <span style="color: rgb(0,135,0)">self</span><span style="color: rgb(98,98,98)">.</span>definition<span style="color: rgb(98,98,98)">.</span>Outputs<span style="color: rgb(98,98,98)">.</span>_from_task(<span style="color: rgb(0,135,0)">self</span>)
<span class="ansi-green-intense-fg ansi-bold">    377</span> <span class="ansi-bold" style="color: rgb(0,135,0)">except</span> <span class="ansi-bold" style="color: rgb(215,95,95)">Exception</span>:

File <span class="ansi-green-fg">/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/pydra/engine/specs.py:790</span>, in <span class="ansi-cyan-fg">WorkflowDef._run</span><span class="ansi-blue-fg">(self, task)</span>
<span class="ansi-green-intense-fg ansi-bold">    788</span> <span class="ansi-bold" style="color: rgb(0,135,0)">def</span><span style="color: rgb(188,188,188)"> </span><span style="color: rgb(0,0,255)">_run</span>(<span style="color: rgb(0,135,0)">self</span>, task: <span style="color: rgb(175,0,0)">&#34;</span><span style="color: rgb(175,0,0)">Task[WorkflowDef]</span><span style="color: rgb(175,0,0)">&#34;</span>) <span style="color: rgb(98,98,98)">-</span><span style="color: rgb(98,98,98)">&gt;</span> <span class="ansi-bold" style="color: rgb(0,135,0)">None</span>:
<span class="ansi-green-intense-fg ansi-bold">    789</span> <span style="color: rgb(188,188,188)">    </span><span style="color: rgb(175,0,0)">&#34;&#34;&#34;Run the workflow.&#34;&#34;&#34;</span>
<span class="ansi-green-fg">--&gt; 790</span>     <span class="ansi-yellow-bg">task</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">submitter</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">expand_workflow</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg">task</span><span class="ansi-yellow-bg">)</span>

File <span class="ansi-green-fg">/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/pydra/engine/submitter.py:273</span>, in <span class="ansi-cyan-fg">Submitter.expand_workflow</span><span class="ansi-blue-fg">(self, workflow_task)</span>
<span class="ansi-green-intense-fg ansi-bold">    271</span> <span class="ansi-bold" style="color: rgb(0,135,0)">while</span> tasks <span class="ansi-bold" style="color: rgb(175,0,255)">or</span> <span style="color: rgb(0,135,0)">any</span>(<span class="ansi-bold" style="color: rgb(175,0,255)">not</span> n<span style="color: rgb(98,98,98)">.</span>done <span class="ansi-bold" style="color: rgb(0,135,0)">for</span> n <span class="ansi-bold" style="color: rgb(175,0,255)">in</span> exec_graph<span style="color: rgb(98,98,98)">.</span>nodes):
<span class="ansi-green-intense-fg ansi-bold">    272</span>     <span class="ansi-bold" style="color: rgb(0,135,0)">for</span> task <span class="ansi-bold" style="color: rgb(175,0,255)">in</span> tasks:
<span class="ansi-green-fg">--&gt; 273</span>         <span class="ansi-yellow-bg" style="color: rgb(0,135,0)">self</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">worker</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">run</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg">task</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg">rerun</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">=</span><span class="ansi-yellow-bg" style="color: rgb(0,135,0)">self</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">rerun</span><span class="ansi-yellow-bg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    274</span>     tasks <span style="color: rgb(98,98,98)">=</span> <span style="color: rgb(0,135,0)">self</span><span style="color: rgb(98,98,98)">.</span>get_runnable_tasks(exec_graph)
<span class="ansi-green-intense-fg ansi-bold">    275</span> workflow_task<span style="color: rgb(98,98,98)">.</span>return_values <span style="color: rgb(98,98,98)">=</span> {<span style="color: rgb(175,0,0)">&#34;</span><span style="color: rgb(175,0,0)">workflow</span><span style="color: rgb(175,0,0)">&#34;</span>: wf, <span style="color: rgb(175,0,0)">&#34;</span><span style="color: rgb(175,0,0)">exec_graph</span><span style="color: rgb(175,0,0)">&#34;</span>: exec_graph}

File <span class="ansi-green-fg">/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/pydra/engine/workers.py:163</span>, in <span class="ansi-cyan-fg">DebugWorker.run</span><span class="ansi-blue-fg">(self, task, rerun)</span>
<span class="ansi-green-intense-fg ansi-bold">    157</span> <span class="ansi-bold" style="color: rgb(0,135,0)">def</span><span style="color: rgb(188,188,188)"> </span><span style="color: rgb(0,0,255)">run</span>(
<span class="ansi-green-intense-fg ansi-bold">    158</span>     <span style="color: rgb(0,135,0)">self</span>,
<span class="ansi-green-intense-fg ansi-bold">    159</span>     task: <span style="color: rgb(175,0,0)">&#34;</span><span style="color: rgb(175,0,0)">Task[DefType]</span><span style="color: rgb(175,0,0)">&#34;</span>,
<span class="ansi-green-intense-fg ansi-bold">    160</span>     rerun: <span style="color: rgb(0,135,0)">bool</span> <span style="color: rgb(98,98,98)">=</span> <span class="ansi-bold" style="color: rgb(0,135,0)">False</span>,
<span class="ansi-green-intense-fg ansi-bold">    161</span> ) <span style="color: rgb(98,98,98)">-</span><span style="color: rgb(98,98,98)">&gt;</span> <span style="color: rgb(175,0,0)">&#34;</span><span style="color: rgb(175,0,0)">Result</span><span style="color: rgb(175,0,0)">&#34;</span>:
<span class="ansi-green-intense-fg ansi-bold">    162</span> <span style="color: rgb(188,188,188)">    </span><span style="color: rgb(175,0,0)">&#34;&#34;&#34;Run a task.&#34;&#34;&#34;</span>
<span class="ansi-green-fg">--&gt; 163</span>     <span class="ansi-bold" style="color: rgb(0,135,0)">return</span> <span class="ansi-yellow-bg">task</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">run</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg">rerun</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">=</span><span class="ansi-yellow-bg">rerun</span><span class="ansi-yellow-bg">)</span>

File <span class="ansi-green-fg">/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/pydra/engine/core.py:375</span>, in <span class="ansi-cyan-fg">Task.run</span><span class="ansi-blue-fg">(self, rerun)</span>
<span class="ansi-green-intense-fg ansi-bold">    373</span> <span class="ansi-bold" style="color: rgb(0,135,0)">try</span>:
<span class="ansi-green-intense-fg ansi-bold">    374</span>     <span style="color: rgb(0,135,0)">self</span><span style="color: rgb(98,98,98)">.</span>audit<span style="color: rgb(98,98,98)">.</span>monitor()
<span class="ansi-green-fg">--&gt; 375</span>     <span class="ansi-yellow-bg" style="color: rgb(0,135,0)">self</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">definition</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">_run</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg" style="color: rgb(0,135,0)">self</span><span class="ansi-yellow-bg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    376</span>     result<span style="color: rgb(98,98,98)">.</span>outputs <span style="color: rgb(98,98,98)">=</span> <span style="color: rgb(0,135,0)">self</span><span style="color: rgb(98,98,98)">.</span>definition<span style="color: rgb(98,98,98)">.</span>Outputs<span style="color: rgb(98,98,98)">.</span>_from_task(<span style="color: rgb(0,135,0)">self</span>)
<span class="ansi-green-intense-fg ansi-bold">    377</span> <span class="ansi-bold" style="color: rgb(0,135,0)">except</span> <span class="ansi-bold" style="color: rgb(215,95,95)">Exception</span>:

File <span class="ansi-green-fg">/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/pydra/engine/specs.py:990</span>, in <span class="ansi-cyan-fg">ShellDef._run</span><span class="ansi-blue-fg">(self, task)</span>
<span class="ansi-green-intense-fg ansi-bold">    988</span> <span class="ansi-bold" style="color: rgb(0,135,0)">def</span><span style="color: rgb(188,188,188)"> </span><span style="color: rgb(0,0,255)">_run</span>(<span style="color: rgb(0,135,0)">self</span>, task: <span style="color: rgb(175,0,0)">&#34;</span><span style="color: rgb(175,0,0)">Task[ShellDef]</span><span style="color: rgb(175,0,0)">&#34;</span>) <span style="color: rgb(98,98,98)">-</span><span style="color: rgb(98,98,98)">&gt;</span> <span class="ansi-bold" style="color: rgb(0,135,0)">None</span>:
<span class="ansi-green-intense-fg ansi-bold">    989</span> <span style="color: rgb(188,188,188)">    </span><span style="color: rgb(175,0,0)">&#34;&#34;&#34;Run the shell command.&#34;&#34;&#34;</span>
<span class="ansi-green-fg">--&gt; 990</span>     task<span style="color: rgb(98,98,98)">.</span>return_values <span style="color: rgb(98,98,98)">=</span> <span class="ansi-yellow-bg">task</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">environment</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">execute</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg">task</span><span class="ansi-yellow-bg">)</span>

File <span class="ansi-green-fg">/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/pydra/engine/environments.py:48</span>, in <span class="ansi-cyan-fg">Native.execute</span><span class="ansi-blue-fg">(self, task)</span>
<span class="ansi-green-intense-fg ansi-bold">     46</span> <span class="ansi-bold" style="color: rgb(0,135,0)">def</span><span style="color: rgb(188,188,188)"> </span><span style="color: rgb(0,0,255)">execute</span>(<span style="color: rgb(0,135,0)">self</span>, task: <span style="color: rgb(175,0,0)">&#34;</span><span style="color: rgb(175,0,0)">Task[ShellDef]</span><span style="color: rgb(175,0,0)">&#34;</span>) <span style="color: rgb(98,98,98)">-</span><span style="color: rgb(98,98,98)">&gt;</span> <span style="color: rgb(0,135,0)">dict</span>[<span style="color: rgb(0,135,0)">str</span>, ty<span style="color: rgb(98,98,98)">.</span>Any]:
<span class="ansi-green-intense-fg ansi-bold">     47</span>     keys <span style="color: rgb(98,98,98)">=</span> [<span style="color: rgb(175,0,0)">&#34;</span><span style="color: rgb(175,0,0)">return_code</span><span style="color: rgb(175,0,0)">&#34;</span>, <span style="color: rgb(175,0,0)">&#34;</span><span style="color: rgb(175,0,0)">stdout</span><span style="color: rgb(175,0,0)">&#34;</span>, <span style="color: rgb(175,0,0)">&#34;</span><span style="color: rgb(175,0,0)">stderr</span><span style="color: rgb(175,0,0)">&#34;</span>]
<span class="ansi-green-fg">---&gt; 48</span>     values <span style="color: rgb(98,98,98)">=</span> <span class="ansi-yellow-bg">execute</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg">task</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">definition</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">_command_args</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg">)</span><span class="ansi-yellow-bg">)</span>
<span class="ansi-green-intense-fg ansi-bold">     49</span>     output <span style="color: rgb(98,98,98)">=</span> <span style="color: rgb(0,135,0)">dict</span>(<span style="color: rgb(0,135,0)">zip</span>(keys, values))
<span class="ansi-green-intense-fg ansi-bold">     50</span>     <span class="ansi-bold" style="color: rgb(0,135,0)">if</span> output[<span style="color: rgb(175,0,0)">&#34;</span><span style="color: rgb(175,0,0)">return_code</span><span style="color: rgb(175,0,0)">&#34;</span>]:

File <span class="ansi-green-fg">/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/pydra/engine/helpers.py:334</span>, in <span class="ansi-cyan-fg">execute</span><span class="ansi-blue-fg">(cmd, strip)</span>
<span class="ansi-green-intense-fg ansi-bold">    318</span> <span class="ansi-bold" style="color: rgb(0,135,0)">def</span><span style="color: rgb(188,188,188)"> </span><span style="color: rgb(0,0,255)">execute</span>(cmd, strip<span style="color: rgb(98,98,98)">=</span><span class="ansi-bold" style="color: rgb(0,135,0)">False</span>):
<span class="ansi-green-intense-fg ansi-bold">    319</span> <span style="color: rgb(188,188,188)">    </span><span style="color: rgb(175,0,0)">&#34;&#34;&#34;</span>
<span class="ansi-green-intense-fg ansi-bold">    320</span> <span style="color: rgb(175,0,0)">    Run the event loop with coroutine.</span>
<span class="ansi-green-intense-fg ansi-bold">    321</span>
<span class="ansi-green-fg">   (...)</span>
<span class="ansi-green-intense-fg ansi-bold">    332</span>
<span class="ansi-green-intense-fg ansi-bold">    333</span> <span style="color: rgb(175,0,0)">    &#34;&#34;&#34;</span>
<span class="ansi-green-fg">--&gt; 334</span>     rc, stdout, stderr <span style="color: rgb(98,98,98)">=</span> <span class="ansi-yellow-bg">read_and_display</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">*</span><span class="ansi-yellow-bg">cmd</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg">strip</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">=</span><span class="ansi-yellow-bg">strip</span><span class="ansi-yellow-bg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    335</span> <span style="color: rgb(188,188,188)">    </span><span style="color: rgb(175,0,0)">&#34;&#34;&#34;</span>
<span class="ansi-green-intense-fg ansi-bold">    336</span> <span style="color: rgb(175,0,0)">    loop = get_open_loop()</span>
<span class="ansi-green-intense-fg ansi-bold">    337</span> <span style="color: rgb(175,0,0)">    if loop.is_running():</span>
<span class="ansi-green-fg">   (...)</span>
<span class="ansi-green-intense-fg ansi-bold">    342</span> <span style="color: rgb(175,0,0)">        )</span>
<span class="ansi-green-intense-fg ansi-bold">    343</span> <span style="color: rgb(175,0,0)">    &#34;&#34;&#34;</span>
<span class="ansi-green-intense-fg ansi-bold">    344</span>     <span class="ansi-bold" style="color: rgb(0,135,0)">return</span> rc, stdout, stderr

File <span class="ansi-green-fg">/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/pydra/engine/helpers.py:299</span>, in <span class="ansi-cyan-fg">read_and_display</span><span class="ansi-blue-fg">(strip, hide_display, *cmd)</span>
<span class="ansi-green-intense-fg ansi-bold">    297</span> <span style="color: rgb(175,0,0)">&#34;&#34;&#34;Capture a process&#39; standard output.&#34;&#34;&#34;</span>
<span class="ansi-green-intense-fg ansi-bold">    298</span> <span class="ansi-bold" style="color: rgb(0,135,0)">try</span>:
<span class="ansi-green-fg">--&gt; 299</span>     process <span style="color: rgb(98,98,98)">=</span> <span class="ansi-yellow-bg">sp</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">run</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg">cmd</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg">stdout</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">=</span><span class="ansi-yellow-bg">sp</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">PIPE</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg">stderr</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">=</span><span class="ansi-yellow-bg">sp</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">PIPE</span><span class="ansi-yellow-bg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    300</span> <span class="ansi-bold" style="color: rgb(0,135,0)">except</span> <span class="ansi-bold" style="color: rgb(215,95,95)">Exception</span>:
<span class="ansi-green-intense-fg ansi-bold">    301</span>     <span style="color: rgb(95,135,135)"># TODO editing some tracing?</span>
<span class="ansi-green-intense-fg ansi-bold">    302</span>     <span class="ansi-bold" style="color: rgb(0,135,0)">raise</span>

File <span class="ansi-green-fg">/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/subprocess.py:554</span>, in <span class="ansi-cyan-fg">run</span><span class="ansi-blue-fg">(input, capture_output, timeout, check, *popenargs, **kwargs)</span>
<span class="ansi-green-intense-fg ansi-bold">    551</span>     kwargs[<span style="color: rgb(175,0,0)">&#39;</span><span style="color: rgb(175,0,0)">stdout</span><span style="color: rgb(175,0,0)">&#39;</span>] <span style="color: rgb(98,98,98)">=</span> PIPE
<span class="ansi-green-intense-fg ansi-bold">    552</span>     kwargs[<span style="color: rgb(175,0,0)">&#39;</span><span style="color: rgb(175,0,0)">stderr</span><span style="color: rgb(175,0,0)">&#39;</span>] <span style="color: rgb(98,98,98)">=</span> PIPE
<span class="ansi-green-fg">--&gt; 554</span> <span class="ansi-bold" style="color: rgb(0,135,0)">with</span> <span class="ansi-yellow-bg">Popen</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">*</span><span class="ansi-yellow-bg">popenargs</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">*</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">*</span><span class="ansi-yellow-bg">kwargs</span><span class="ansi-yellow-bg">)</span> <span class="ansi-bold" style="color: rgb(0,135,0)">as</span> process:
<span class="ansi-green-intense-fg ansi-bold">    555</span>     <span class="ansi-bold" style="color: rgb(0,135,0)">try</span>:
<span class="ansi-green-intense-fg ansi-bold">    556</span>         stdout, stderr <span style="color: rgb(98,98,98)">=</span> process<span style="color: rgb(98,98,98)">.</span>communicate(<span style="color: rgb(0,135,0)">input</span>, timeout<span style="color: rgb(98,98,98)">=</span>timeout)

File <span class="ansi-green-fg">/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/subprocess.py:1036</span>, in <span class="ansi-cyan-fg">Popen.__init__</span><span class="ansi-blue-fg">(self, args, bufsize, executable, stdin, stdout, stderr, preexec_fn, close_fds, shell, cwd, env, universal_newlines, startupinfo, creationflags, restore_signals, start_new_session, pass_fds, user, group, extra_groups, encoding, errors, text, umask, pipesize, process_group)</span>
<span class="ansi-green-intense-fg ansi-bold">   1032</span>         <span class="ansi-bold" style="color: rgb(0,135,0)">if</span> <span style="color: rgb(0,135,0)">self</span><span style="color: rgb(98,98,98)">.</span>text_mode:
<span class="ansi-green-intense-fg ansi-bold">   1033</span>             <span style="color: rgb(0,135,0)">self</span><span style="color: rgb(98,98,98)">.</span>stderr <span style="color: rgb(98,98,98)">=</span> io<span style="color: rgb(98,98,98)">.</span>TextIOWrapper(<span style="color: rgb(0,135,0)">self</span><span style="color: rgb(98,98,98)">.</span>stderr,
<span class="ansi-green-intense-fg ansi-bold">   1034</span>                     encoding<span style="color: rgb(98,98,98)">=</span>encoding, errors<span style="color: rgb(98,98,98)">=</span>errors)
<span class="ansi-green-fg">-&gt; 1036</span>     <span class="ansi-yellow-bg" style="color: rgb(0,135,0)">self</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">_execute_child</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg">args</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg">executable</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg">preexec_fn</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg">close_fds</span><span class="ansi-yellow-bg">,</span>
<span class="ansi-green-intense-fg ansi-bold">   1037</span> <span class="ansi-yellow-bg">                        </span><span class="ansi-yellow-bg">pass_fds</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg">cwd</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg">env</span><span class="ansi-yellow-bg">,</span>
<span class="ansi-green-intense-fg ansi-bold">   1038</span> <span class="ansi-yellow-bg">                        </span><span class="ansi-yellow-bg">startupinfo</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg">creationflags</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg">shell</span><span class="ansi-yellow-bg">,</span>
<span class="ansi-green-intense-fg ansi-bold">   1039</span> <span class="ansi-yellow-bg">                        </span><span class="ansi-yellow-bg">p2cread</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg">p2cwrite</span><span class="ansi-yellow-bg">,</span>
<span class="ansi-green-intense-fg ansi-bold">   1040</span> <span class="ansi-yellow-bg">                        </span><span class="ansi-yellow-bg">c2pread</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg">c2pwrite</span><span class="ansi-yellow-bg">,</span>
<span class="ansi-green-intense-fg ansi-bold">   1041</span> <span class="ansi-yellow-bg">                        </span><span class="ansi-yellow-bg">errread</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg">errwrite</span><span class="ansi-yellow-bg">,</span>
<span class="ansi-green-intense-fg ansi-bold">   1042</span> <span class="ansi-yellow-bg">                        </span><span class="ansi-yellow-bg">restore_signals</span><span class="ansi-yellow-bg">,</span>
<span class="ansi-green-intense-fg ansi-bold">   1043</span> <span class="ansi-yellow-bg">                        </span><span class="ansi-yellow-bg">gid</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg">gids</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg">uid</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg">umask</span><span class="ansi-yellow-bg">,</span>
<span class="ansi-green-intense-fg ansi-bold">   1044</span> <span class="ansi-yellow-bg">                        </span><span class="ansi-yellow-bg">start_new_session</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg">process_group</span><span class="ansi-yellow-bg">)</span>
<span class="ansi-green-intense-fg ansi-bold">   1045</span> <span class="ansi-bold" style="color: rgb(0,135,0)">except</span>:
<span class="ansi-green-intense-fg ansi-bold">   1046</span>     <span style="color: rgb(95,135,135)"># Cleanup if the child failed starting.</span>
<span class="ansi-green-intense-fg ansi-bold">   1047</span>     <span class="ansi-bold" style="color: rgb(0,135,0)">for</span> f <span class="ansi-bold" style="color: rgb(175,0,255)">in</span> <span style="color: rgb(0,135,0)">filter</span>(<span class="ansi-bold" style="color: rgb(0,135,0)">None</span>, (<span style="color: rgb(0,135,0)">self</span><span style="color: rgb(98,98,98)">.</span>stdin, <span style="color: rgb(0,135,0)">self</span><span style="color: rgb(98,98,98)">.</span>stdout, <span style="color: rgb(0,135,0)">self</span><span style="color: rgb(98,98,98)">.</span>stderr)):

File <span class="ansi-green-fg">/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/subprocess.py:1966</span>, in <span class="ansi-cyan-fg">Popen._execute_child</span><span class="ansi-blue-fg">(self, args, executable, preexec_fn, close_fds, pass_fds, cwd, env, startupinfo, creationflags, shell, p2cread, p2cwrite, c2pread, c2pwrite, errread, errwrite, restore_signals, gid, gids, uid, umask, start_new_session, process_group)</span>
<span class="ansi-green-intense-fg ansi-bold">   1964</span>     err_msg <span style="color: rgb(98,98,98)">=</span> os<span style="color: rgb(98,98,98)">.</span>strerror(errno_num)
<span class="ansi-green-intense-fg ansi-bold">   1965</span> <span class="ansi-bold" style="color: rgb(0,135,0)">if</span> err_filename <span class="ansi-bold" style="color: rgb(175,0,255)">is</span> <span class="ansi-bold" style="color: rgb(175,0,255)">not</span> <span class="ansi-bold" style="color: rgb(0,135,0)">None</span>:
<span class="ansi-green-fg">-&gt; 1966</span>     <span class="ansi-bold" style="color: rgb(0,135,0)">raise</span> child_exception_type(errno_num, err_msg, err_filename)
<span class="ansi-green-intense-fg ansi-bold">   1967</span> <span class="ansi-bold" style="color: rgb(0,135,0)">else</span>:
<span class="ansi-green-intense-fg ansi-bold">   1968</span>     <span class="ansi-bold" style="color: rgb(0,135,0)">raise</span> child_exception_type(errno_num, err_msg)

<span class="ansi-red-fg">FileNotFoundError</span>: [Errno 2] No such file or directory: &#39;mrgrid&#39;
Full crash report for &#39;Split&#39; task is here: /home/runner/.cache/pydra/0.25.dev206+gd1d95cc9/run-cache/workflow-aa0733005aed6954d1039271adcdabc8/_error.pklz
</pre></div></div>
</div>
<p>It is also possible to iterate over inputs in pairs/n-tuples. For example, if you wanted to use different voxel sizes for different images, both the list of images and the voxel sizes are passed to the <code class="docutils literal notranslate"><span class="pre">split()</span></code> method and their combination is specified by a tuple &quot;splitter&quot;</p>
<p>Note that it is important to use a tuple not a list for the splitter definition in this case, because a list splitter is interpreted as the split over each combination of inputs (see <a class="reference external" href="../explanation/splitting-combining.html">Splitting and combining</a> for more details on splitters).</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><br/><br/><span></span><span class="n">mrgrid_varying_vox_sizes</span> <span class="o">=</span> <span class="n">MrGrid</span><span class="p">(</span><span class="n">operation</span><span class="o">=</span><span class="s2">&quot;regrid&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span>
    <span class="p">(</span><span class="s2">&quot;in_file&quot;</span><span class="p">,</span> <span class="s2">&quot;voxel&quot;</span><span class="p">),</span>
    <span class="n">in_file</span><span class="o">=</span><span class="n">nifti_dir</span><span class="o">.</span><span class="n">iterdir</span><span class="p">(),</span>
    <span class="c1"># Define a list of voxel sizes to resample the NIfTI files to,</span>
    <span class="c1"># the list must be the same length as the list of NIfTI files</span>
    <span class="n">voxel</span><span class="o">=</span><span class="p">[</span>
        <span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">),</span>
        <span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">),</span>
        <span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">),</span>
        <span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">),</span>
        <span class="p">(</span><span class="mf">0.75</span><span class="p">,</span> <span class="mf">0.75</span><span class="p">,</span> <span class="mf">0.75</span><span class="p">),</span>
        <span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">),</span>
        <span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">),</span>
        <span class="p">(</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">),</span>
        <span class="p">(</span><span class="mf">1.25</span><span class="p">,</span> <span class="mf">1.25</span><span class="p">,</span> <span class="mf">1.25</span><span class="p">),</span>
        <span class="p">(</span><span class="mf">1.25</span><span class="p">,</span> <span class="mf">1.25</span><span class="p">,</span> <span class="mf">1.25</span><span class="p">),</span>
    <span class="p">],</span>
<span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">p</span><span class="p">)</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">outputs</span><span class="o">.</span><span class="n">out_file</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">AttributeError</span>                            Traceback (most recent call last)
Cell <span class="ansi-green-fg">In[6], line 20</span>
<span class="ansi-green-intense-fg ansi-bold">      1</span> mrgrid_varying_vox_sizes <span style="color: rgb(98,98,98)">=</span> MrGrid(operation<span style="color: rgb(98,98,98)">=</span><span style="color: rgb(175,0,0)">&#34;</span><span style="color: rgb(175,0,0)">regrid</span><span style="color: rgb(175,0,0)">&#34;</span>)<span style="color: rgb(98,98,98)">.</span>split(
<span class="ansi-green-intense-fg ansi-bold">      2</span>     (<span style="color: rgb(175,0,0)">&#34;</span><span style="color: rgb(175,0,0)">in_file</span><span style="color: rgb(175,0,0)">&#34;</span>, <span style="color: rgb(175,0,0)">&#34;</span><span style="color: rgb(175,0,0)">voxel</span><span style="color: rgb(175,0,0)">&#34;</span>),
<span class="ansi-green-intense-fg ansi-bold">      3</span>     in_file<span style="color: rgb(98,98,98)">=</span>nifti_dir<span style="color: rgb(98,98,98)">.</span>iterdir(),
<span class="ansi-green-fg">   (...)</span>
<span class="ansi-green-intense-fg ansi-bold">     17</span>     ],
<span class="ansi-green-intense-fg ansi-bold">     18</span> )
<span class="ansi-green-fg">---&gt; 20</span> <span style="color: rgb(0,135,0)">print</span>(<span style="color: rgb(175,0,0)">&#34;</span><span class="ansi-bold" style="color: rgb(175,95,0)">\n</span><span style="color: rgb(175,0,0)">&#34;</span><span style="color: rgb(98,98,98)">.</span>join(<span style="color: rgb(0,135,0)">str</span>(p) <span class="ansi-bold" style="color: rgb(0,135,0)">for</span> p <span class="ansi-bold" style="color: rgb(175,0,255)">in</span> <span class="ansi-yellow-bg">outputs</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">out_file</span>))

<span class="ansi-red-fg">AttributeError</span>: &#39;LoadJsonOutputs&#39; object has no attribute &#39;out_file&#39;
</pre></div></div>
</div>
</section>
<section id="Executing-tasks-in-parallel">
<h2>Executing tasks in parallel<a class="headerlink" href="#Executing-tasks-in-parallel" title="Permalink to this heading">¶</a></h2>
<p>By default, Pydra will use the <em>debug</em> worker, which executes each task sequentially. This makes it easier to debug tasks and workflows, however, in most cases, once a workflow is tested, a concurrent worker is preferable so tasks can be executed in parallel (see <a class="reference external" href="./3-advanced-execution.html#Workers">Workers</a>). To use multiple processes on a workstation, select the <code class="docutils literal notranslate"><span class="pre">cf</span></code> worker option when executing the task/workflow. Additional keyword arguments, will be passed to the worker initialisation
(e.g. <code class="docutils literal notranslate"><span class="pre">n_procs=4</span></code>).</p>
<p>Note that when multiprocessing in Python on Windows and macOS (and good practice on Linux/POSIX OSs for compatibility), you need to place a <code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">__name__</span> <span class="pre">==</span> <span class="pre">&quot;__main__&quot;</span></code> block when executing in top-level scripts to allow the script to be imported, but not executed, by subprocesses.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">pydra.tasks.mrtrix3.v3_0</span><span class="w"> </span><span class="kn">import</span> <span class="n">MrGrid</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>  <span class="c1"># &lt;-- Add this block to allow the script to imported by subprocesses</span>
    <span class="n">mrgrid</span> <span class="o">=</span> <span class="n">MrGrid</span><span class="p">(</span><span class="n">operation</span><span class="o">=</span><span class="s2">&quot;regrid&quot;</span><span class="p">,</span> <span class="n">voxel</span><span class="o">=</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">0.5</span><span class="p">))</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">in_file</span><span class="o">=</span><span class="n">nifti_dir</span><span class="o">.</span><span class="n">iterdir</span><span class="p">())</span>
    <span class="n">outputs</span> <span class="o">=</span> <span class="n">mrgrid</span><span class="p">(</span><span class="n">worker</span><span class="o">=</span><span class="s2">&quot;cf&quot;</span><span class="p">,</span> <span class="n">n_procs</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>  <span class="c1"># &lt;-- Select the &quot;cf&quot; worker here</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">p</span><span class="p">)</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">outputs</span><span class="o">.</span><span class="n">out_file</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
Task exception was never retrieved
future: &lt;Task finished name=&#39;Task-4&#39; coro=&lt;ConcurrentFuturesWorker.run() done, defined at /opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/pydra/engine/workers.py:189&gt; exception=FileNotFoundError(2, &#39;No such file or directory&#39;)&gt;
concurrent.futures.process._RemoteTraceback:
&#34;&#34;&#34;
Traceback (most recent call last):
  File &#34;/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/concurrent/futures/process.py&#34;, line 254, in _process_worker
    r = call_item.fn(*call_item.args, **call_item.kwargs)
  File &#34;/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/pydra/engine/workers.py&#34;, line 205, in unpickle_and_run
    return task.run(rerun=rerun)
           ~~~~~~~~^^^^^^^^^^^^^
  File &#34;/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/pydra/engine/core.py&#34;, line 375, in run
    self.definition._run(self)
    ~~~~~~~~~~~~~~~~~~~~^^^^^^
  File &#34;/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/pydra/engine/specs.py&#34;, line 990, in _run
    task.return_values = task.environment.execute(task)
                         ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File &#34;/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/pydra/engine/environments.py&#34;, line 48, in execute
    values = execute(task.definition._command_args())
  File &#34;/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/pydra/engine/helpers.py&#34;, line 334, in execute
    rc, stdout, stderr = read_and_display(*cmd, strip=strip)
                         ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File &#34;/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/pydra/engine/helpers.py&#34;, line 299, in read_and_display
    process = sp.run(cmd, stdout=sp.PIPE, stderr=sp.PIPE)
  File &#34;/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/subprocess.py&#34;, line 554, in run
    with Popen(*popenargs, **kwargs) as process:
         ~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File &#34;/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/subprocess.py&#34;, line 1036, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                        pass_fds, cwd, env,
                        ^^^^^^^^^^^^^^^^^^^
    ...&lt;5 lines&gt;...
                        gid, gids, uid, umask,
                        ^^^^^^^^^^^^^^^^^^^^^^
                        start_new_session, process_group)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File &#34;/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/subprocess.py&#34;, line 1966, in _execute_child
    raise child_exception_type(errno_num, err_msg, err_filename)
FileNotFoundError: [Errno 2] No such file or directory: &#39;mrgrid&#39;
&#34;&#34;&#34;

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File &#34;/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/asyncio/tasks.py&#34;, line 306, in __step_run_and_handle_result
    result = coro.throw(exc)
  File &#34;/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/pydra/engine/workers.py&#34;, line 197, in run
    return await self.loop.run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.pool, self.unpickle_and_run, task_pkl, rerun
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File &#34;/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/asyncio/futures.py&#34;, line 286, in __await__
    yield self  # This tells Task to wait for completion.
    ^^^^^^^^^^
  File &#34;/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/asyncio/tasks.py&#34;, line 375, in __wakeup
    future.result()
    ~~~~~~~~~~~~~^^
  File &#34;/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/asyncio/futures.py&#34;, line 199, in result
    raise self._exception.with_traceback(self._exception_tb)
FileNotFoundError: [Errno 2] No such file or directory: &#39;mrgrid&#39;
Task exception was never retrieved
future: &lt;Task finished name=&#39;Task-2&#39; coro=&lt;ConcurrentFuturesWorker.run() done, defined at /opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/pydra/engine/workers.py:189&gt; exception=FileNotFoundError(2, &#39;No such file or directory&#39;)&gt;
concurrent.futures.process._RemoteTraceback:
&#34;&#34;&#34;
Traceback (most recent call last):
  File &#34;/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/concurrent/futures/process.py&#34;, line 254, in _process_worker
    r = call_item.fn(*call_item.args, **call_item.kwargs)
  File &#34;/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/pydra/engine/workers.py&#34;, line 205, in unpickle_and_run
    return task.run(rerun=rerun)
           ~~~~~~~~^^^^^^^^^^^^^
  File &#34;/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/pydra/engine/core.py&#34;, line 375, in run
    self.definition._run(self)
    ~~~~~~~~~~~~~~~~~~~~^^^^^^
  File &#34;/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/pydra/engine/specs.py&#34;, line 990, in _run
    task.return_values = task.environment.execute(task)
                         ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File &#34;/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/pydra/engine/environments.py&#34;, line 48, in execute
    values = execute(task.definition._command_args())
  File &#34;/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/pydra/engine/helpers.py&#34;, line 334, in execute
    rc, stdout, stderr = read_and_display(*cmd, strip=strip)
                         ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File &#34;/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/pydra/engine/helpers.py&#34;, line 299, in read_and_display
    process = sp.run(cmd, stdout=sp.PIPE, stderr=sp.PIPE)
  File &#34;/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/subprocess.py&#34;, line 554, in run
    with Popen(*popenargs, **kwargs) as process:
         ~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File &#34;/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/subprocess.py&#34;, line 1036, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                        pass_fds, cwd, env,
                        ^^^^^^^^^^^^^^^^^^^
    ...&lt;5 lines&gt;...
                        gid, gids, uid, umask,
                        ^^^^^^^^^^^^^^^^^^^^^^
                        start_new_session, process_group)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File &#34;/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/subprocess.py&#34;, line 1966, in _execute_child
    raise child_exception_type(errno_num, err_msg, err_filename)
FileNotFoundError: [Errno 2] No such file or directory: &#39;mrgrid&#39;
&#34;&#34;&#34;

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File &#34;/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/asyncio/tasks.py&#34;, line 306, in __step_run_and_handle_result
    result = coro.throw(exc)
  File &#34;/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/pydra/engine/workers.py&#34;, line 197, in run
    return await self.loop.run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.pool, self.unpickle_and_run, task_pkl, rerun
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File &#34;/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/asyncio/futures.py&#34;, line 286, in __await__
    yield self  # This tells Task to wait for completion.
    ^^^^^^^^^^
  File &#34;/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/asyncio/tasks.py&#34;, line 375, in __wakeup
    future.result()
    ~~~~~~~~~~~~~^^
  File &#34;/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/asyncio/futures.py&#34;, line 199, in result
    raise self._exception.with_traceback(self._exception_tb)
FileNotFoundError: [Errno 2] No such file or directory: &#39;mrgrid&#39;
Task exception was never retrieved
future: &lt;Task finished name=&#39;Task-3&#39; coro=&lt;ConcurrentFuturesWorker.run() done, defined at /opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/pydra/engine/workers.py:189&gt; exception=FileNotFoundError(2, &#39;No such file or directory&#39;)&gt;
concurrent.futures.process._RemoteTraceback:
&#34;&#34;&#34;
Traceback (most recent call last):
  File &#34;/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/concurrent/futures/process.py&#34;, line 254, in _process_worker
    r = call_item.fn(*call_item.args, **call_item.kwargs)
  File &#34;/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/pydra/engine/workers.py&#34;, line 205, in unpickle_and_run
    return task.run(rerun=rerun)
           ~~~~~~~~^^^^^^^^^^^^^
  File &#34;/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/pydra/engine/core.py&#34;, line 375, in run
    self.definition._run(self)
    ~~~~~~~~~~~~~~~~~~~~^^^^^^
  File &#34;/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/pydra/engine/specs.py&#34;, line 990, in _run
    task.return_values = task.environment.execute(task)
                         ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File &#34;/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/pydra/engine/environments.py&#34;, line 48, in execute
    values = execute(task.definition._command_args())
  File &#34;/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/pydra/engine/helpers.py&#34;, line 334, in execute
    rc, stdout, stderr = read_and_display(*cmd, strip=strip)
                         ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File &#34;/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/pydra/engine/helpers.py&#34;, line 299, in read_and_display
    process = sp.run(cmd, stdout=sp.PIPE, stderr=sp.PIPE)
  File &#34;/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/subprocess.py&#34;, line 554, in run
    with Popen(*popenargs, **kwargs) as process:
         ~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File &#34;/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/subprocess.py&#34;, line 1036, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                        pass_fds, cwd, env,
                        ^^^^^^^^^^^^^^^^^^^
    ...&lt;5 lines&gt;...
                        gid, gids, uid, umask,
                        ^^^^^^^^^^^^^^^^^^^^^^
                        start_new_session, process_group)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File &#34;/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/subprocess.py&#34;, line 1966, in _execute_child
    raise child_exception_type(errno_num, err_msg, err_filename)
FileNotFoundError: [Errno 2] No such file or directory: &#39;mrgrid&#39;
&#34;&#34;&#34;

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File &#34;/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/asyncio/tasks.py&#34;, line 306, in __step_run_and_handle_result
    result = coro.throw(exc)
  File &#34;/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/pydra/engine/workers.py&#34;, line 197, in run
    return await self.loop.run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.pool, self.unpickle_and_run, task_pkl, rerun
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File &#34;/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/asyncio/futures.py&#34;, line 286, in __await__
    yield self  # This tells Task to wait for completion.
    ^^^^^^^^^^
  File &#34;/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/asyncio/tasks.py&#34;, line 375, in __wakeup
    future.result()
    ~~~~~~~~~~~~~^^
  File &#34;/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/asyncio/futures.py&#34;, line 199, in result
    raise self._exception.with_traceback(self._exception_tb)
FileNotFoundError: [Errno 2] No such file or directory: &#39;mrgrid&#39;
Task exception was never retrieved
future: &lt;Task finished name=&#39;Task-5&#39; coro=&lt;ConcurrentFuturesWorker.run() done, defined at /opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/pydra/engine/workers.py:189&gt; exception=FileNotFoundError(2, &#39;No such file or directory&#39;)&gt;
concurrent.futures.process._RemoteTraceback:
&#34;&#34;&#34;
Traceback (most recent call last):
  File &#34;/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/concurrent/futures/process.py&#34;, line 254, in _process_worker
    r = call_item.fn(*call_item.args, **call_item.kwargs)
  File &#34;/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/pydra/engine/workers.py&#34;, line 205, in unpickle_and_run
    return task.run(rerun=rerun)
           ~~~~~~~~^^^^^^^^^^^^^
  File &#34;/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/pydra/engine/core.py&#34;, line 375, in run
    self.definition._run(self)
    ~~~~~~~~~~~~~~~~~~~~^^^^^^
  File &#34;/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/pydra/engine/specs.py&#34;, line 990, in _run
    task.return_values = task.environment.execute(task)
                         ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File &#34;/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/pydra/engine/environments.py&#34;, line 48, in execute
    values = execute(task.definition._command_args())
  File &#34;/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/pydra/engine/helpers.py&#34;, line 334, in execute
    rc, stdout, stderr = read_and_display(*cmd, strip=strip)
                         ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^
  File &#34;/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/pydra/engine/helpers.py&#34;, line 299, in read_and_display
    process = sp.run(cmd, stdout=sp.PIPE, stderr=sp.PIPE)
  File &#34;/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/subprocess.py&#34;, line 554, in run
    with Popen(*popenargs, **kwargs) as process:
         ~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File &#34;/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/subprocess.py&#34;, line 1036, in __init__
    self._execute_child(args, executable, preexec_fn, close_fds,
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
                        pass_fds, cwd, env,
                        ^^^^^^^^^^^^^^^^^^^
    ...&lt;5 lines&gt;...
                        gid, gids, uid, umask,
                        ^^^^^^^^^^^^^^^^^^^^^^
                        start_new_session, process_group)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File &#34;/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/subprocess.py&#34;, line 1966, in _execute_child
    raise child_exception_type(errno_num, err_msg, err_filename)
FileNotFoundError: [Errno 2] No such file or directory: &#39;mrgrid&#39;
&#34;&#34;&#34;

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File &#34;/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/asyncio/tasks.py&#34;, line 306, in __step_run_and_handle_result
    result = coro.throw(exc)
  File &#34;/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/pydra/engine/workers.py&#34;, line 197, in run
    return await self.loop.run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self.pool, self.unpickle_and_run, task_pkl, rerun
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File &#34;/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/asyncio/futures.py&#34;, line 286, in __await__
    yield self  # This tells Task to wait for completion.
    ^^^^^^^^^^
  File &#34;/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/asyncio/tasks.py&#34;, line 375, in __wakeup
    future.result()
    ~~~~~~~~~~~~~^^
  File &#34;/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/asyncio/futures.py&#34;, line 199, in result
    raise self._exception.with_traceback(self._exception_tb)
FileNotFoundError: [Errno 2] No such file or directory: &#39;mrgrid&#39;
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">ValueError</span>                                Traceback (most recent call last)
Cell <span class="ansi-green-fg">In[7], line 5</span>
<span class="ansi-green-intense-fg ansi-bold">      3</span> <span class="ansi-bold" style="color: rgb(0,135,0)">if</span> <span style="color: rgb(0,0,135)">__name__</span> <span style="color: rgb(98,98,98)">==</span> <span style="color: rgb(175,0,0)">&#34;</span><span style="color: rgb(175,0,0)">__main__</span><span style="color: rgb(175,0,0)">&#34;</span>:  <span style="color: rgb(95,135,135)"># &lt;-- Add this block to allow the script to imported by subprocesses</span>
<span class="ansi-green-intense-fg ansi-bold">      4</span>     mrgrid <span style="color: rgb(98,98,98)">=</span> MrGrid(operation<span style="color: rgb(98,98,98)">=</span><span style="color: rgb(175,0,0)">&#34;</span><span style="color: rgb(175,0,0)">regrid</span><span style="color: rgb(175,0,0)">&#34;</span>, voxel<span style="color: rgb(98,98,98)">=</span>(<span style="color: rgb(98,98,98)">0.5</span>,<span style="color: rgb(98,98,98)">0.5</span>,<span style="color: rgb(98,98,98)">0.5</span>))<span style="color: rgb(98,98,98)">.</span>split(in_file<span style="color: rgb(98,98,98)">=</span>nifti_dir<span style="color: rgb(98,98,98)">.</span>iterdir())
<span class="ansi-green-fg">----&gt; 5</span>     outputs <span style="color: rgb(98,98,98)">=</span> <span class="ansi-yellow-bg">mrgrid</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg">worker</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">=</span><span class="ansi-yellow-bg" style="color: rgb(175,0,0)">&#34;</span><span class="ansi-yellow-bg" style="color: rgb(175,0,0)">cf</span><span class="ansi-yellow-bg" style="color: rgb(175,0,0)">&#34;</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg">n_procs</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">=</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">4</span><span class="ansi-yellow-bg">)</span>  <span style="color: rgb(95,135,135)"># &lt;-- Select the &#34;cf&#34; worker here</span>
<span class="ansi-green-intense-fg ansi-bold">      6</span>     <span style="color: rgb(0,135,0)">print</span>(<span style="color: rgb(175,0,0)">&#34;</span><span class="ansi-bold" style="color: rgb(175,95,0)">\n</span><span style="color: rgb(175,0,0)">&#34;</span><span style="color: rgb(98,98,98)">.</span>join(<span style="color: rgb(0,135,0)">str</span>(p) <span class="ansi-bold" style="color: rgb(0,135,0)">for</span> p <span class="ansi-bold" style="color: rgb(175,0,255)">in</span> outputs<span style="color: rgb(98,98,98)">.</span>out_file))

File <span class="ansi-green-fg">/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/pydra/engine/specs.py:220</span>, in <span class="ansi-cyan-fg">TaskDef.__call__</span><span class="ansi-blue-fg">(self, cache_dir, worker, environment, rerun, cache_locations, audit_flags, messengers, messenger_args, name, pre_run, post_run, pre_run_task, post_run_task, **kwargs)</span>
<span class="ansi-green-intense-fg ansi-bold">    208</span> <span class="ansi-bold" style="color: rgb(0,135,0)">try</span>:
<span class="ansi-green-intense-fg ansi-bold">    209</span>     <span class="ansi-bold" style="color: rgb(0,135,0)">with</span> Submitter(
<span class="ansi-green-intense-fg ansi-bold">    210</span>         audit_flags<span style="color: rgb(98,98,98)">=</span>audit_flags,
<span class="ansi-green-intense-fg ansi-bold">    211</span>         cache_dir<span style="color: rgb(98,98,98)">=</span>cache_dir,
<span class="ansi-green-fg">   (...)</span>
<span class="ansi-green-intense-fg ansi-bold">    218</span>         <span style="color: rgb(98,98,98)">*</span><span style="color: rgb(98,98,98)">*</span>kwargs,
<span class="ansi-green-intense-fg ansi-bold">    219</span>     ) <span class="ansi-bold" style="color: rgb(0,135,0)">as</span> sub:
<span class="ansi-green-fg">--&gt; 220</span>         result <span style="color: rgb(98,98,98)">=</span> <span class="ansi-yellow-bg">sub</span><span class="ansi-yellow-bg">(</span>
<span class="ansi-green-intense-fg ansi-bold">    221</span> <span class="ansi-yellow-bg">            </span><span class="ansi-yellow-bg" style="color: rgb(0,135,0)">self</span><span class="ansi-yellow-bg">,</span>
<span class="ansi-green-intense-fg ansi-bold">    222</span> <span class="ansi-yellow-bg">            </span><span class="ansi-yellow-bg">name</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">=</span><span class="ansi-yellow-bg">name</span><span class="ansi-yellow-bg">,</span>
<span class="ansi-green-intense-fg ansi-bold">    223</span> <span class="ansi-yellow-bg">            </span><span class="ansi-yellow-bg">pre_run</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">=</span><span class="ansi-yellow-bg">pre_run</span><span class="ansi-yellow-bg">,</span>
<span class="ansi-green-intense-fg ansi-bold">    224</span> <span class="ansi-yellow-bg">            </span><span class="ansi-yellow-bg">post_run</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">=</span><span class="ansi-yellow-bg">post_run</span><span class="ansi-yellow-bg">,</span>
<span class="ansi-green-intense-fg ansi-bold">    225</span> <span class="ansi-yellow-bg">            </span><span class="ansi-yellow-bg">pre_run_task</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">=</span><span class="ansi-yellow-bg">pre_run_task</span><span class="ansi-yellow-bg">,</span>
<span class="ansi-green-intense-fg ansi-bold">    226</span> <span class="ansi-yellow-bg">            </span><span class="ansi-yellow-bg">post_run_task</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">=</span><span class="ansi-yellow-bg">post_run_task</span><span class="ansi-yellow-bg">,</span>
<span class="ansi-green-intense-fg ansi-bold">    227</span> <span class="ansi-yellow-bg">        </span><span class="ansi-yellow-bg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    228</span> <span class="ansi-bold" style="color: rgb(0,135,0)">except</span> <span class="ansi-bold" style="color: rgb(215,95,95)">TypeError</span> <span class="ansi-bold" style="color: rgb(0,135,0)">as</span> e:
<span class="ansi-green-intense-fg ansi-bold">    229</span>     <span style="color: rgb(95,135,135)"># Catch any inadvertent passing of task definition parameters to the</span>
<span class="ansi-green-intense-fg ansi-bold">    230</span>     <span style="color: rgb(95,135,135)"># execution call</span>
<span class="ansi-green-intense-fg ansi-bold">    231</span>     <span class="ansi-bold" style="color: rgb(0,135,0)">if</span> <span style="color: rgb(0,135,0)">hasattr</span>(e, <span style="color: rgb(175,0,0)">&#34;</span><span style="color: rgb(175,0,0)">__notes__</span><span style="color: rgb(175,0,0)">&#34;</span>) <span class="ansi-bold" style="color: rgb(175,0,255)">and</span> WORKER_KWARG_FAIL_NOTE <span class="ansi-bold" style="color: rgb(175,0,255)">in</span> e<span style="color: rgb(98,98,98)">.</span>__notes__:

File <span class="ansi-green-fg">/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/pydra/engine/submitter.py:224</span>, in <span class="ansi-cyan-fg">Submitter.__call__</span><span class="ansi-blue-fg">(self, task_def, name, pre_run, post_run, pre_run_task, post_run_task)</span>
<span class="ansi-green-intense-fg ansi-bold">    219</span> <span class="ansi-bold" style="color: rgb(0,135,0)">except</span> <span class="ansi-bold" style="color: rgb(215,95,95)">Exception</span> <span class="ansi-bold" style="color: rgb(0,135,0)">as</span> e:
<span class="ansi-green-intense-fg ansi-bold">    220</span>     e<span style="color: rgb(98,98,98)">.</span>add_note(
<span class="ansi-green-intense-fg ansi-bold">    221</span>         <span style="color: rgb(175,0,0)">f</span><span style="color: rgb(175,0,0)">&#34;</span><span style="color: rgb(175,0,0)">Full crash report for </span><span class="ansi-bold" style="color: rgb(175,95,135)">{</span><span style="color: rgb(0,135,0)">type</span>(task_def)<span style="color: rgb(98,98,98)">.</span><span style="color: rgb(0,0,135)">__name__</span><span class="ansi-bold" style="color: rgb(175,95,135)">!r}</span><span style="color: rgb(175,0,0)"> task is here: </span><span style="color: rgb(175,0,0)">&#34;</span>
<span class="ansi-green-intense-fg ansi-bold">    222</span>         <span style="color: rgb(98,98,98)">+</span> <span style="color: rgb(0,135,0)">str</span>(task<span style="color: rgb(98,98,98)">.</span>output_dir <span style="color: rgb(98,98,98)">/</span> <span style="color: rgb(175,0,0)">&#34;</span><span style="color: rgb(175,0,0)">_error.pklz</span><span style="color: rgb(175,0,0)">&#34;</span>)
<span class="ansi-green-intense-fg ansi-bold">    223</span>     )
<span class="ansi-green-fg">--&gt; 224</span>     <span class="ansi-bold" style="color: rgb(0,135,0)">raise</span> e
<span class="ansi-green-intense-fg ansi-bold">    225</span> <span class="ansi-bold" style="color: rgb(0,135,0)">finally</span>:
<span class="ansi-green-intense-fg ansi-bold">    226</span>     <span style="color: rgb(0,135,0)">self</span><span style="color: rgb(98,98,98)">.</span>run_start_time <span style="color: rgb(98,98,98)">=</span> <span class="ansi-bold" style="color: rgb(0,135,0)">None</span>

File <span class="ansi-green-fg">/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/pydra/engine/submitter.py:214</span>, in <span class="ansi-cyan-fg">Submitter.__call__</span><span class="ansi-blue-fg">(self, task_def, name, pre_run, post_run, pre_run_task, post_run_task)</span>
<span class="ansi-green-intense-fg ansi-bold">    212</span> <span style="color: rgb(0,135,0)">self</span><span style="color: rgb(98,98,98)">.</span>run_start_time <span style="color: rgb(98,98,98)">=</span> datetime<span style="color: rgb(98,98,98)">.</span>now()
<span class="ansi-green-intense-fg ansi-bold">    213</span> <span class="ansi-bold" style="color: rgb(0,135,0)">if</span> <span style="color: rgb(0,135,0)">self</span><span style="color: rgb(98,98,98)">.</span>worker<span style="color: rgb(98,98,98)">.</span>is_async:  <span style="color: rgb(95,135,135)"># Only workflow tasks can be async</span>
<span class="ansi-green-fg">--&gt; 214</span>     <span class="ansi-yellow-bg" style="color: rgb(0,135,0)">self</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">loop</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">run_until_complete</span><span class="ansi-yellow-bg">(</span>
<span class="ansi-green-intense-fg ansi-bold">    215</span> <span class="ansi-yellow-bg">        </span><span class="ansi-yellow-bg" style="color: rgb(0,135,0)">self</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">worker</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">run_async</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg">task</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg">rerun</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">=</span><span class="ansi-yellow-bg" style="color: rgb(0,135,0)">self</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">rerun</span><span class="ansi-yellow-bg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    216</span> <span class="ansi-yellow-bg">    </span><span class="ansi-yellow-bg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    217</span> <span class="ansi-bold" style="color: rgb(0,135,0)">else</span>:
<span class="ansi-green-intense-fg ansi-bold">    218</span>     <span style="color: rgb(0,135,0)">self</span><span style="color: rgb(98,98,98)">.</span>worker<span style="color: rgb(98,98,98)">.</span>run(task, rerun<span style="color: rgb(98,98,98)">=</span><span style="color: rgb(0,135,0)">self</span><span style="color: rgb(98,98,98)">.</span>rerun)

File <span class="ansi-green-fg">/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/nest_asyncio.py:98</span>, in <span class="ansi-cyan-fg">_patch_loop.&lt;locals&gt;.run_until_complete</span><span class="ansi-blue-fg">(self, future)</span>
<span class="ansi-green-intense-fg ansi-bold">     95</span> <span class="ansi-bold" style="color: rgb(0,135,0)">if</span> <span class="ansi-bold" style="color: rgb(175,0,255)">not</span> f<span style="color: rgb(98,98,98)">.</span>done():
<span class="ansi-green-intense-fg ansi-bold">     96</span>     <span class="ansi-bold" style="color: rgb(0,135,0)">raise</span> <span class="ansi-bold" style="color: rgb(215,95,95)">RuntimeError</span>(
<span class="ansi-green-intense-fg ansi-bold">     97</span>         <span style="color: rgb(175,0,0)">&#39;</span><span style="color: rgb(175,0,0)">Event loop stopped before Future completed.</span><span style="color: rgb(175,0,0)">&#39;</span>)
<span class="ansi-green-fg">---&gt; 98</span> <span class="ansi-bold" style="color: rgb(0,135,0)">return</span> <span class="ansi-yellow-bg">f</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">result</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg">)</span>

File <span class="ansi-green-fg">/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/asyncio/futures.py:199</span>, in <span class="ansi-cyan-fg">Future.result</span><span class="ansi-blue-fg">(self)</span>
<span class="ansi-green-intense-fg ansi-bold">    197</span> <span style="color: rgb(0,135,0)">self</span><span style="color: rgb(98,98,98)">.</span>__log_traceback <span style="color: rgb(98,98,98)">=</span> <span class="ansi-bold" style="color: rgb(0,135,0)">False</span>
<span class="ansi-green-intense-fg ansi-bold">    198</span> <span class="ansi-bold" style="color: rgb(0,135,0)">if</span> <span style="color: rgb(0,135,0)">self</span><span style="color: rgb(98,98,98)">.</span>_exception <span class="ansi-bold" style="color: rgb(175,0,255)">is</span> <span class="ansi-bold" style="color: rgb(175,0,255)">not</span> <span class="ansi-bold" style="color: rgb(0,135,0)">None</span>:
<span class="ansi-green-fg">--&gt; 199</span>     <span class="ansi-bold" style="color: rgb(0,135,0)">raise</span> <span style="color: rgb(0,135,0)">self</span><span style="color: rgb(98,98,98)">.</span>_exception<span style="color: rgb(98,98,98)">.</span>with_traceback(<span style="color: rgb(0,135,0)">self</span><span style="color: rgb(98,98,98)">.</span>_exception_tb)
<span class="ansi-green-intense-fg ansi-bold">    200</span> <span class="ansi-bold" style="color: rgb(0,135,0)">return</span> <span style="color: rgb(0,135,0)">self</span><span style="color: rgb(98,98,98)">.</span>_result

File <span class="ansi-green-fg">/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/asyncio/tasks.py:304</span>, in <span class="ansi-cyan-fg">Task.__step_run_and_handle_result</span><span class="ansi-blue-fg">(***failed resolving arguments***)</span>
<span class="ansi-green-intense-fg ansi-bold">    300</span> <span class="ansi-bold" style="color: rgb(0,135,0)">try</span>:
<span class="ansi-green-intense-fg ansi-bold">    301</span>     <span class="ansi-bold" style="color: rgb(0,135,0)">if</span> exc <span class="ansi-bold" style="color: rgb(175,0,255)">is</span> <span class="ansi-bold" style="color: rgb(0,135,0)">None</span>:
<span class="ansi-green-intense-fg ansi-bold">    302</span>         <span style="color: rgb(95,135,135)"># We use the `send` method directly, because coroutines</span>
<span class="ansi-green-intense-fg ansi-bold">    303</span>         <span style="color: rgb(95,135,135)"># don&#39;t have `__iter__` and `__next__` methods.</span>
<span class="ansi-green-fg">--&gt; 304</span>         result <span style="color: rgb(98,98,98)">=</span> <span class="ansi-yellow-bg">coro</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">send</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg ansi-bold" style="color: rgb(0,135,0)">None</span><span class="ansi-yellow-bg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    305</span>     <span class="ansi-bold" style="color: rgb(0,135,0)">else</span>:
<span class="ansi-green-intense-fg ansi-bold">    306</span>         result <span style="color: rgb(98,98,98)">=</span> coro<span style="color: rgb(98,98,98)">.</span>throw(exc)

File <span class="ansi-green-fg">/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/pydra/engine/workers.py:52</span>, in <span class="ansi-cyan-fg">Worker.run_async</span><span class="ansi-blue-fg">(self, task, rerun)</span>
<span class="ansi-green-intense-fg ansi-bold">     50</span> <span class="ansi-bold" style="color: rgb(0,135,0)">async</span> <span class="ansi-bold" style="color: rgb(0,135,0)">def</span><span style="color: rgb(188,188,188)"> </span><span style="color: rgb(0,0,255)">run_async</span>(<span style="color: rgb(0,135,0)">self</span>, task: <span style="color: rgb(175,0,0)">&#34;</span><span style="color: rgb(175,0,0)">Task[DefType]</span><span style="color: rgb(175,0,0)">&#34;</span>, rerun: <span style="color: rgb(0,135,0)">bool</span> <span style="color: rgb(98,98,98)">=</span> <span class="ansi-bold" style="color: rgb(0,135,0)">False</span>) <span style="color: rgb(98,98,98)">-</span><span style="color: rgb(98,98,98)">&gt;</span> <span style="color: rgb(175,0,0)">&#34;</span><span style="color: rgb(175,0,0)">Result</span><span style="color: rgb(175,0,0)">&#34;</span>:
<span class="ansi-green-intense-fg ansi-bold">     51</span>     <span class="ansi-bold" style="color: rgb(0,135,0)">if</span> task<span style="color: rgb(98,98,98)">.</span>is_async:
<span class="ansi-green-fg">---&gt; 52</span>         <span class="ansi-bold" style="color: rgb(0,135,0)">return</span> <span class="ansi-bold" style="color: rgb(0,135,0)">await</span> task<span style="color: rgb(98,98,98)">.</span>run_async(rerun<span style="color: rgb(98,98,98)">=</span>rerun)
<span class="ansi-green-intense-fg ansi-bold">     53</span>     <span class="ansi-bold" style="color: rgb(0,135,0)">else</span>:
<span class="ansi-green-intense-fg ansi-bold">     54</span>         <span class="ansi-bold" style="color: rgb(0,135,0)">return</span> task<span style="color: rgb(98,98,98)">.</span>run(rerun<span style="color: rgb(98,98,98)">=</span>rerun)

File <span class="ansi-green-fg">/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/pydra/engine/core.py:429</span>, in <span class="ansi-cyan-fg">Task.run_async</span><span class="ansi-blue-fg">(self, rerun)</span>
<span class="ansi-green-intense-fg ansi-bold">    427</span> <span class="ansi-bold" style="color: rgb(0,135,0)">try</span>:
<span class="ansi-green-intense-fg ansi-bold">    428</span>     <span style="color: rgb(0,135,0)">self</span><span style="color: rgb(98,98,98)">.</span>audit<span style="color: rgb(98,98,98)">.</span>monitor()
<span class="ansi-green-fg">--&gt; 429</span>     <span class="ansi-bold" style="color: rgb(0,135,0)">await</span> <span style="color: rgb(0,135,0)">self</span><span style="color: rgb(98,98,98)">.</span>definition<span style="color: rgb(98,98,98)">.</span>_run_async(<span style="color: rgb(0,135,0)">self</span>)
<span class="ansi-green-intense-fg ansi-bold">    430</span>     result<span style="color: rgb(98,98,98)">.</span>outputs <span style="color: rgb(98,98,98)">=</span> <span style="color: rgb(0,135,0)">self</span><span style="color: rgb(98,98,98)">.</span>definition<span style="color: rgb(98,98,98)">.</span>Outputs<span style="color: rgb(98,98,98)">.</span>_from_task(<span style="color: rgb(0,135,0)">self</span>)
<span class="ansi-green-intense-fg ansi-bold">    431</span> <span class="ansi-bold" style="color: rgb(0,135,0)">except</span> <span class="ansi-bold" style="color: rgb(215,95,95)">Exception</span>:

File <span class="ansi-green-fg">/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/pydra/engine/specs.py:794</span>, in <span class="ansi-cyan-fg">WorkflowDef._run_async</span><span class="ansi-blue-fg">(self, task)</span>
<span class="ansi-green-intense-fg ansi-bold">    792</span> <span class="ansi-bold" style="color: rgb(0,135,0)">async</span> <span class="ansi-bold" style="color: rgb(0,135,0)">def</span><span style="color: rgb(188,188,188)"> </span><span style="color: rgb(0,0,255)">_run_async</span>(<span style="color: rgb(0,135,0)">self</span>, task: <span style="color: rgb(175,0,0)">&#34;</span><span style="color: rgb(175,0,0)">Task[WorkflowDef]</span><span style="color: rgb(175,0,0)">&#34;</span>) <span style="color: rgb(98,98,98)">-</span><span style="color: rgb(98,98,98)">&gt;</span> <span class="ansi-bold" style="color: rgb(0,135,0)">None</span>:
<span class="ansi-green-intense-fg ansi-bold">    793</span> <span style="color: rgb(188,188,188)">    </span><span style="color: rgb(175,0,0)">&#34;&#34;&#34;Run the workflow asynchronously.&#34;&#34;&#34;</span>
<span class="ansi-green-fg">--&gt; 794</span>     <span class="ansi-bold" style="color: rgb(0,135,0)">await</span> task<span style="color: rgb(98,98,98)">.</span>submitter<span style="color: rgb(98,98,98)">.</span>expand_workflow_async(task)

File <span class="ansi-green-fg">/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/pydra/engine/submitter.py:372</span>, in <span class="ansi-cyan-fg">Submitter.expand_workflow_async</span><span class="ansi-blue-fg">(self, workflow_task)</span>
<span class="ansi-green-intense-fg ansi-bold">    370</span>             task_futures<span style="color: rgb(98,98,98)">.</span>add(<span style="color: rgb(0,135,0)">self</span><span style="color: rgb(98,98,98)">.</span>worker<span style="color: rgb(98,98,98)">.</span>run(task, rerun<span style="color: rgb(98,98,98)">=</span><span style="color: rgb(0,135,0)">self</span><span style="color: rgb(98,98,98)">.</span>rerun))
<span class="ansi-green-intense-fg ansi-bold">    371</span>     task_futures <span style="color: rgb(98,98,98)">=</span> <span class="ansi-bold" style="color: rgb(0,135,0)">await</span> <span style="color: rgb(0,135,0)">self</span><span style="color: rgb(98,98,98)">.</span>worker<span style="color: rgb(98,98,98)">.</span>fetch_finished(task_futures)
<span class="ansi-green-fg">--&gt; 372</span>     tasks <span style="color: rgb(98,98,98)">=</span> <span class="ansi-yellow-bg" style="color: rgb(0,135,0)">self</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">get_runnable_tasks</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg">exec_graph</span><span class="ansi-yellow-bg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    373</span> workflow_task<span style="color: rgb(98,98,98)">.</span>return_values <span style="color: rgb(98,98,98)">=</span> {<span style="color: rgb(175,0,0)">&#34;</span><span style="color: rgb(175,0,0)">workflow</span><span style="color: rgb(175,0,0)">&#34;</span>: wf, <span style="color: rgb(175,0,0)">&#34;</span><span style="color: rgb(175,0,0)">exec_graph</span><span style="color: rgb(175,0,0)">&#34;</span>: exec_graph}

File <span class="ansi-green-fg">/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/pydra/engine/submitter.py:419</span>, in <span class="ansi-cyan-fg">Submitter.get_runnable_tasks</span><span class="ansi-blue-fg">(self, graph)</span>
<span class="ansi-green-intense-fg ansi-bold">    417</span> node: NodeExecution
<span class="ansi-green-intense-fg ansi-bold">    418</span> <span class="ansi-bold" style="color: rgb(0,135,0)">for</span> node <span class="ansi-bold" style="color: rgb(175,0,255)">in</span> graph<span style="color: rgb(98,98,98)">.</span>sorted_nodes:
<span class="ansi-green-fg">--&gt; 419</span>     <span class="ansi-bold" style="color: rgb(0,135,0)">if</span> <span class="ansi-yellow-bg">node</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">done</span>:
<span class="ansi-green-intense-fg ansi-bold">    420</span>         <span class="ansi-bold" style="color: rgb(0,135,0)">continue</span>
<span class="ansi-green-intense-fg ansi-bold">    421</span>     <span style="color: rgb(95,135,135)"># since the list is sorted (breadth-first) we can stop</span>
<span class="ansi-green-intense-fg ansi-bold">    422</span>     <span style="color: rgb(95,135,135)"># when we find a task that depends on any task that is already in tasks</span>

File <span class="ansi-green-fg">/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/pydra/engine/submitter.py:535</span>, in <span class="ansi-cyan-fg">NodeExecution.done</span><span class="ansi-blue-fg">(self)</span>
<span class="ansi-green-intense-fg ansi-bold">    533</span> <span style="color: rgb(175,0,255)">@property</span>
<span class="ansi-green-intense-fg ansi-bold">    534</span> <span class="ansi-bold" style="color: rgb(0,135,0)">def</span><span style="color: rgb(188,188,188)"> </span><span style="color: rgb(0,0,255)">done</span>(<span style="color: rgb(0,135,0)">self</span>) <span style="color: rgb(98,98,98)">-</span><span style="color: rgb(98,98,98)">&gt;</span> <span style="color: rgb(0,135,0)">bool</span>:
<span class="ansi-green-fg">--&gt; 535</span>     <span class="ansi-yellow-bg" style="color: rgb(0,135,0)">self</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">update_status</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    536</span>     <span class="ansi-bold" style="color: rgb(0,135,0)">if</span> <span class="ansi-bold" style="color: rgb(175,0,255)">not</span> <span style="color: rgb(0,135,0)">self</span><span style="color: rgb(98,98,98)">.</span>started:
<span class="ansi-green-intense-fg ansi-bold">    537</span>         <span class="ansi-bold" style="color: rgb(0,135,0)">return</span> <span class="ansi-bold" style="color: rgb(0,135,0)">False</span>

File <span class="ansi-green-fg">/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/pydra/engine/submitter.py:565</span>, in <span class="ansi-cyan-fg">NodeExecution.update_status</span><span class="ansi-blue-fg">(self)</span>
<span class="ansi-green-intense-fg ansi-bold">    563</span> <span style="color: rgb(95,135,135)"># Check to see if any previously running tasks have completed</span>
<span class="ansi-green-intense-fg ansi-bold">    564</span> <span class="ansi-bold" style="color: rgb(0,135,0)">for</span> index, (task, start_time) <span class="ansi-bold" style="color: rgb(175,0,255)">in</span> <span style="color: rgb(0,135,0)">list</span>(<span style="color: rgb(0,135,0)">self</span><span style="color: rgb(98,98,98)">.</span>running<span style="color: rgb(98,98,98)">.</span>items()):
<span class="ansi-green-fg">--&gt; 565</span>     <span class="ansi-bold" style="color: rgb(0,135,0)">if</span> <span class="ansi-yellow-bg">task</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">done</span>:
<span class="ansi-green-intense-fg ansi-bold">    566</span>         <span style="color: rgb(0,135,0)">self</span><span style="color: rgb(98,98,98)">.</span>successful[task<span style="color: rgb(98,98,98)">.</span>state_index] <span style="color: rgb(98,98,98)">=</span> <span style="color: rgb(0,135,0)">self</span><span style="color: rgb(98,98,98)">.</span>running<span style="color: rgb(98,98,98)">.</span>pop(index)[<span style="color: rgb(98,98,98)">0</span>]
<span class="ansi-green-intense-fg ansi-bold">    567</span>     <span class="ansi-bold" style="color: rgb(0,135,0)">elif</span> task<span style="color: rgb(98,98,98)">.</span>errored:

File <span class="ansi-green-fg">/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/pydra/engine/core.py:469</span>, in <span class="ansi-cyan-fg">Task.done</span><span class="ansi-blue-fg">(self)</span>
<span class="ansi-green-intense-fg ansi-bold">    467</span> <span class="ansi-bold" style="color: rgb(0,135,0)">if</span> _result<span style="color: rgb(98,98,98)">.</span>errored:
<span class="ansi-green-intense-fg ansi-bold">    468</span>     <span style="color: rgb(0,135,0)">self</span><span style="color: rgb(98,98,98)">.</span>_errored <span style="color: rgb(98,98,98)">=</span> <span class="ansi-bold" style="color: rgb(0,135,0)">True</span>
<span class="ansi-green-fg">--&gt; 469</span>     <span class="ansi-bold" style="color: rgb(0,135,0)">raise</span> <span class="ansi-bold" style="color: rgb(215,95,95)">ValueError</span>(<span style="color: rgb(175,0,0)">f</span><span style="color: rgb(175,0,0)">&#34;</span><span style="color: rgb(175,0,0)">Task </span><span class="ansi-bold" style="color: rgb(175,95,135)">{</span><span style="color: rgb(0,135,0)">self</span><span style="color: rgb(98,98,98)">.</span>name<span class="ansi-bold" style="color: rgb(175,95,135)">!r}</span><span style="color: rgb(175,0,0)"> raised an error</span><span style="color: rgb(175,0,0)">&#34;</span>)
<span class="ansi-green-intense-fg ansi-bold">    470</span> <span class="ansi-bold" style="color: rgb(0,135,0)">else</span>:
<span class="ansi-green-intense-fg ansi-bold">    471</span>     <span class="ansi-bold" style="color: rgb(0,135,0)">return</span> <span class="ansi-bold" style="color: rgb(0,135,0)">True</span>

<span class="ansi-red-fg">ValueError</span>: Task &#39;MrGrid&#39; raised an error
Full crash report for &#39;Split&#39; task is here: /home/runner/.cache/pydra/0.25.dev206+gd1d95cc9/run-cache/workflow-aa0733005aed6954d1039271adcdabc8/_error.pklz
</pre></div></div>
</div>
</section>
<section id="File-system-locations">
<h2>File-system locations<a class="headerlink" href="#File-system-locations" title="Permalink to this heading">¶</a></h2>
<p>Output and intermediate files are typically generated during the course of a workflow/task run. In addition to this, Pydra generates a cache directory for each task, in which the task definition, results and any errors are stored in <a class="reference external" href="https://github.com/cloudpipe/cloudpickle">cloudpickle</a> files for future reference (see <a class="reference external" href="./troubleshooting.html">Troubleshooting</a>). By default, these cache directories are stored in a platform-specific application-cache directory</p>
<ul class="simple">
<li><p>Windows: <code class="docutils literal notranslate"><span class="pre">C:\Users\&lt;username&gt;\AppData\Local\pydra\&lt;pydra-version&gt;\run-cache</span></code></p></li>
<li><p>Linux: <code class="docutils literal notranslate"><span class="pre">/home/&lt;username&gt;/.cache/pydra/&lt;pydra-version&gt;/run-cache</span></code></p></li>
<li><p>macOS: <code class="docutils literal notranslate"><span class="pre">/Users/&lt;username&gt;/Library/Caches/pydra/&lt;pydra-version&gt;/run-cache</span></code></p></li>
</ul>
<p>When a task runs, a unique hash is generated by the combination of all the inputs to the task and the operation to be performed. This hash is used to name the task cache directory within the specified cache root. Therefore, if you use the same cache root and in a subsequent run the same task is executed with the same inputs, then the path of its cache directory will be the same, and if Pydra finds existing results at that path, then the outputs generated by the previous run will be reused.</p>
<p>This cache will grow as more runs are called, therefore care needs to be taken to ensure there is enough space on the target disk. Since the cache will be constantly To specify a different location for this cache, simply provide the <code class="docutils literal notranslate"><span class="pre">cache_root</span></code> keyword argument to the execution call</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">outputs</span> <span class="o">=</span> <span class="n">mrgrid</span><span class="p">(</span><span class="n">cache_root</span><span class="o">=</span><span class="n">Path</span><span class="p">(</span><span class="s2">&quot;~/pydra-cache&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">expanduser</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">FileNotFoundError</span>                         Traceback (most recent call last)
Cell <span class="ansi-green-fg">In[8], line 1</span>
<span class="ansi-green-fg">----&gt; 1</span> outputs <span style="color: rgb(98,98,98)">=</span> <span class="ansi-yellow-bg">mrgrid</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg">cache_root</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">=</span><span class="ansi-yellow-bg">Path</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg" style="color: rgb(175,0,0)">&#34;</span><span class="ansi-yellow-bg" style="color: rgb(175,0,0)">~/pydra-cache</span><span class="ansi-yellow-bg" style="color: rgb(175,0,0)">&#34;</span><span class="ansi-yellow-bg">)</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">expanduser</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg">)</span><span class="ansi-yellow-bg">)</span>

File <span class="ansi-green-fg">/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/pydra/engine/specs.py:220</span>, in <span class="ansi-cyan-fg">TaskDef.__call__</span><span class="ansi-blue-fg">(self, cache_dir, worker, environment, rerun, cache_locations, audit_flags, messengers, messenger_args, name, pre_run, post_run, pre_run_task, post_run_task, **kwargs)</span>
<span class="ansi-green-intense-fg ansi-bold">    208</span> <span class="ansi-bold" style="color: rgb(0,135,0)">try</span>:
<span class="ansi-green-intense-fg ansi-bold">    209</span>     <span class="ansi-bold" style="color: rgb(0,135,0)">with</span> Submitter(
<span class="ansi-green-intense-fg ansi-bold">    210</span>         audit_flags<span style="color: rgb(98,98,98)">=</span>audit_flags,
<span class="ansi-green-intense-fg ansi-bold">    211</span>         cache_dir<span style="color: rgb(98,98,98)">=</span>cache_dir,
<span class="ansi-green-fg">   (...)</span>
<span class="ansi-green-intense-fg ansi-bold">    218</span>         <span style="color: rgb(98,98,98)">*</span><span style="color: rgb(98,98,98)">*</span>kwargs,
<span class="ansi-green-intense-fg ansi-bold">    219</span>     ) <span class="ansi-bold" style="color: rgb(0,135,0)">as</span> sub:
<span class="ansi-green-fg">--&gt; 220</span>         result <span style="color: rgb(98,98,98)">=</span> <span class="ansi-yellow-bg">sub</span><span class="ansi-yellow-bg">(</span>
<span class="ansi-green-intense-fg ansi-bold">    221</span> <span class="ansi-yellow-bg">            </span><span class="ansi-yellow-bg" style="color: rgb(0,135,0)">self</span><span class="ansi-yellow-bg">,</span>
<span class="ansi-green-intense-fg ansi-bold">    222</span> <span class="ansi-yellow-bg">            </span><span class="ansi-yellow-bg">name</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">=</span><span class="ansi-yellow-bg">name</span><span class="ansi-yellow-bg">,</span>
<span class="ansi-green-intense-fg ansi-bold">    223</span> <span class="ansi-yellow-bg">            </span><span class="ansi-yellow-bg">pre_run</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">=</span><span class="ansi-yellow-bg">pre_run</span><span class="ansi-yellow-bg">,</span>
<span class="ansi-green-intense-fg ansi-bold">    224</span> <span class="ansi-yellow-bg">            </span><span class="ansi-yellow-bg">post_run</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">=</span><span class="ansi-yellow-bg">post_run</span><span class="ansi-yellow-bg">,</span>
<span class="ansi-green-intense-fg ansi-bold">    225</span> <span class="ansi-yellow-bg">            </span><span class="ansi-yellow-bg">pre_run_task</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">=</span><span class="ansi-yellow-bg">pre_run_task</span><span class="ansi-yellow-bg">,</span>
<span class="ansi-green-intense-fg ansi-bold">    226</span> <span class="ansi-yellow-bg">            </span><span class="ansi-yellow-bg">post_run_task</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">=</span><span class="ansi-yellow-bg">post_run_task</span><span class="ansi-yellow-bg">,</span>
<span class="ansi-green-intense-fg ansi-bold">    227</span> <span class="ansi-yellow-bg">        </span><span class="ansi-yellow-bg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    228</span> <span class="ansi-bold" style="color: rgb(0,135,0)">except</span> <span class="ansi-bold" style="color: rgb(215,95,95)">TypeError</span> <span class="ansi-bold" style="color: rgb(0,135,0)">as</span> e:
<span class="ansi-green-intense-fg ansi-bold">    229</span>     <span style="color: rgb(95,135,135)"># Catch any inadvertent passing of task definition parameters to the</span>
<span class="ansi-green-intense-fg ansi-bold">    230</span>     <span style="color: rgb(95,135,135)"># execution call</span>
<span class="ansi-green-intense-fg ansi-bold">    231</span>     <span class="ansi-bold" style="color: rgb(0,135,0)">if</span> <span style="color: rgb(0,135,0)">hasattr</span>(e, <span style="color: rgb(175,0,0)">&#34;</span><span style="color: rgb(175,0,0)">__notes__</span><span style="color: rgb(175,0,0)">&#34;</span>) <span class="ansi-bold" style="color: rgb(175,0,255)">and</span> WORKER_KWARG_FAIL_NOTE <span class="ansi-bold" style="color: rgb(175,0,255)">in</span> e<span style="color: rgb(98,98,98)">.</span>__notes__:

File <span class="ansi-green-fg">/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/pydra/engine/submitter.py:224</span>, in <span class="ansi-cyan-fg">Submitter.__call__</span><span class="ansi-blue-fg">(self, task_def, name, pre_run, post_run, pre_run_task, post_run_task)</span>
<span class="ansi-green-intense-fg ansi-bold">    219</span> <span class="ansi-bold" style="color: rgb(0,135,0)">except</span> <span class="ansi-bold" style="color: rgb(215,95,95)">Exception</span> <span class="ansi-bold" style="color: rgb(0,135,0)">as</span> e:
<span class="ansi-green-intense-fg ansi-bold">    220</span>     e<span style="color: rgb(98,98,98)">.</span>add_note(
<span class="ansi-green-intense-fg ansi-bold">    221</span>         <span style="color: rgb(175,0,0)">f</span><span style="color: rgb(175,0,0)">&#34;</span><span style="color: rgb(175,0,0)">Full crash report for </span><span class="ansi-bold" style="color: rgb(175,95,135)">{</span><span style="color: rgb(0,135,0)">type</span>(task_def)<span style="color: rgb(98,98,98)">.</span><span style="color: rgb(0,0,135)">__name__</span><span class="ansi-bold" style="color: rgb(175,95,135)">!r}</span><span style="color: rgb(175,0,0)"> task is here: </span><span style="color: rgb(175,0,0)">&#34;</span>
<span class="ansi-green-intense-fg ansi-bold">    222</span>         <span style="color: rgb(98,98,98)">+</span> <span style="color: rgb(0,135,0)">str</span>(task<span style="color: rgb(98,98,98)">.</span>output_dir <span style="color: rgb(98,98,98)">/</span> <span style="color: rgb(175,0,0)">&#34;</span><span style="color: rgb(175,0,0)">_error.pklz</span><span style="color: rgb(175,0,0)">&#34;</span>)
<span class="ansi-green-intense-fg ansi-bold">    223</span>     )
<span class="ansi-green-fg">--&gt; 224</span>     <span class="ansi-bold" style="color: rgb(0,135,0)">raise</span> e
<span class="ansi-green-intense-fg ansi-bold">    225</span> <span class="ansi-bold" style="color: rgb(0,135,0)">finally</span>:
<span class="ansi-green-intense-fg ansi-bold">    226</span>     <span style="color: rgb(0,135,0)">self</span><span style="color: rgb(98,98,98)">.</span>run_start_time <span style="color: rgb(98,98,98)">=</span> <span class="ansi-bold" style="color: rgb(0,135,0)">None</span>

File <span class="ansi-green-fg">/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/pydra/engine/submitter.py:218</span>, in <span class="ansi-cyan-fg">Submitter.__call__</span><span class="ansi-blue-fg">(self, task_def, name, pre_run, post_run, pre_run_task, post_run_task)</span>
<span class="ansi-green-intense-fg ansi-bold">    214</span>         <span style="color: rgb(0,135,0)">self</span><span style="color: rgb(98,98,98)">.</span>loop<span style="color: rgb(98,98,98)">.</span>run_until_complete(
<span class="ansi-green-intense-fg ansi-bold">    215</span>             <span style="color: rgb(0,135,0)">self</span><span style="color: rgb(98,98,98)">.</span>worker<span style="color: rgb(98,98,98)">.</span>run_async(task, rerun<span style="color: rgb(98,98,98)">=</span><span style="color: rgb(0,135,0)">self</span><span style="color: rgb(98,98,98)">.</span>rerun)
<span class="ansi-green-intense-fg ansi-bold">    216</span>         )
<span class="ansi-green-intense-fg ansi-bold">    217</span>     <span class="ansi-bold" style="color: rgb(0,135,0)">else</span>:
<span class="ansi-green-fg">--&gt; 218</span>         <span class="ansi-yellow-bg" style="color: rgb(0,135,0)">self</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">worker</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">run</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg">task</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg">rerun</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">=</span><span class="ansi-yellow-bg" style="color: rgb(0,135,0)">self</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">rerun</span><span class="ansi-yellow-bg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    219</span> <span class="ansi-bold" style="color: rgb(0,135,0)">except</span> <span class="ansi-bold" style="color: rgb(215,95,95)">Exception</span> <span class="ansi-bold" style="color: rgb(0,135,0)">as</span> e:
<span class="ansi-green-intense-fg ansi-bold">    220</span>     e<span style="color: rgb(98,98,98)">.</span>add_note(
<span class="ansi-green-intense-fg ansi-bold">    221</span>         <span style="color: rgb(175,0,0)">f</span><span style="color: rgb(175,0,0)">&#34;</span><span style="color: rgb(175,0,0)">Full crash report for </span><span class="ansi-bold" style="color: rgb(175,95,135)">{</span><span style="color: rgb(0,135,0)">type</span>(task_def)<span style="color: rgb(98,98,98)">.</span><span style="color: rgb(0,0,135)">__name__</span><span class="ansi-bold" style="color: rgb(175,95,135)">!r}</span><span style="color: rgb(175,0,0)"> task is here: </span><span style="color: rgb(175,0,0)">&#34;</span>
<span class="ansi-green-intense-fg ansi-bold">    222</span>         <span style="color: rgb(98,98,98)">+</span> <span style="color: rgb(0,135,0)">str</span>(task<span style="color: rgb(98,98,98)">.</span>output_dir <span style="color: rgb(98,98,98)">/</span> <span style="color: rgb(175,0,0)">&#34;</span><span style="color: rgb(175,0,0)">_error.pklz</span><span style="color: rgb(175,0,0)">&#34;</span>)
<span class="ansi-green-intense-fg ansi-bold">    223</span>     )

File <span class="ansi-green-fg">/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/pydra/engine/workers.py:163</span>, in <span class="ansi-cyan-fg">DebugWorker.run</span><span class="ansi-blue-fg">(self, task, rerun)</span>
<span class="ansi-green-intense-fg ansi-bold">    157</span> <span class="ansi-bold" style="color: rgb(0,135,0)">def</span><span style="color: rgb(188,188,188)"> </span><span style="color: rgb(0,0,255)">run</span>(
<span class="ansi-green-intense-fg ansi-bold">    158</span>     <span style="color: rgb(0,135,0)">self</span>,
<span class="ansi-green-intense-fg ansi-bold">    159</span>     task: <span style="color: rgb(175,0,0)">&#34;</span><span style="color: rgb(175,0,0)">Task[DefType]</span><span style="color: rgb(175,0,0)">&#34;</span>,
<span class="ansi-green-intense-fg ansi-bold">    160</span>     rerun: <span style="color: rgb(0,135,0)">bool</span> <span style="color: rgb(98,98,98)">=</span> <span class="ansi-bold" style="color: rgb(0,135,0)">False</span>,
<span class="ansi-green-intense-fg ansi-bold">    161</span> ) <span style="color: rgb(98,98,98)">-</span><span style="color: rgb(98,98,98)">&gt;</span> <span style="color: rgb(175,0,0)">&#34;</span><span style="color: rgb(175,0,0)">Result</span><span style="color: rgb(175,0,0)">&#34;</span>:
<span class="ansi-green-intense-fg ansi-bold">    162</span> <span style="color: rgb(188,188,188)">    </span><span style="color: rgb(175,0,0)">&#34;&#34;&#34;Run a task.&#34;&#34;&#34;</span>
<span class="ansi-green-fg">--&gt; 163</span>     <span class="ansi-bold" style="color: rgb(0,135,0)">return</span> <span class="ansi-yellow-bg">task</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">run</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg">rerun</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">=</span><span class="ansi-yellow-bg">rerun</span><span class="ansi-yellow-bg">)</span>

File <span class="ansi-green-fg">/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/pydra/engine/core.py:375</span>, in <span class="ansi-cyan-fg">Task.run</span><span class="ansi-blue-fg">(self, rerun)</span>
<span class="ansi-green-intense-fg ansi-bold">    373</span> <span class="ansi-bold" style="color: rgb(0,135,0)">try</span>:
<span class="ansi-green-intense-fg ansi-bold">    374</span>     <span style="color: rgb(0,135,0)">self</span><span style="color: rgb(98,98,98)">.</span>audit<span style="color: rgb(98,98,98)">.</span>monitor()
<span class="ansi-green-fg">--&gt; 375</span>     <span class="ansi-yellow-bg" style="color: rgb(0,135,0)">self</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">definition</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">_run</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg" style="color: rgb(0,135,0)">self</span><span class="ansi-yellow-bg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    376</span>     result<span style="color: rgb(98,98,98)">.</span>outputs <span style="color: rgb(98,98,98)">=</span> <span style="color: rgb(0,135,0)">self</span><span style="color: rgb(98,98,98)">.</span>definition<span style="color: rgb(98,98,98)">.</span>Outputs<span style="color: rgb(98,98,98)">.</span>_from_task(<span style="color: rgb(0,135,0)">self</span>)
<span class="ansi-green-intense-fg ansi-bold">    377</span> <span class="ansi-bold" style="color: rgb(0,135,0)">except</span> <span class="ansi-bold" style="color: rgb(215,95,95)">Exception</span>:

File <span class="ansi-green-fg">/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/pydra/engine/specs.py:790</span>, in <span class="ansi-cyan-fg">WorkflowDef._run</span><span class="ansi-blue-fg">(self, task)</span>
<span class="ansi-green-intense-fg ansi-bold">    788</span> <span class="ansi-bold" style="color: rgb(0,135,0)">def</span><span style="color: rgb(188,188,188)"> </span><span style="color: rgb(0,0,255)">_run</span>(<span style="color: rgb(0,135,0)">self</span>, task: <span style="color: rgb(175,0,0)">&#34;</span><span style="color: rgb(175,0,0)">Task[WorkflowDef]</span><span style="color: rgb(175,0,0)">&#34;</span>) <span style="color: rgb(98,98,98)">-</span><span style="color: rgb(98,98,98)">&gt;</span> <span class="ansi-bold" style="color: rgb(0,135,0)">None</span>:
<span class="ansi-green-intense-fg ansi-bold">    789</span> <span style="color: rgb(188,188,188)">    </span><span style="color: rgb(175,0,0)">&#34;&#34;&#34;Run the workflow.&#34;&#34;&#34;</span>
<span class="ansi-green-fg">--&gt; 790</span>     <span class="ansi-yellow-bg">task</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">submitter</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">expand_workflow</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg">task</span><span class="ansi-yellow-bg">)</span>

File <span class="ansi-green-fg">/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/pydra/engine/submitter.py:273</span>, in <span class="ansi-cyan-fg">Submitter.expand_workflow</span><span class="ansi-blue-fg">(self, workflow_task)</span>
<span class="ansi-green-intense-fg ansi-bold">    271</span> <span class="ansi-bold" style="color: rgb(0,135,0)">while</span> tasks <span class="ansi-bold" style="color: rgb(175,0,255)">or</span> <span style="color: rgb(0,135,0)">any</span>(<span class="ansi-bold" style="color: rgb(175,0,255)">not</span> n<span style="color: rgb(98,98,98)">.</span>done <span class="ansi-bold" style="color: rgb(0,135,0)">for</span> n <span class="ansi-bold" style="color: rgb(175,0,255)">in</span> exec_graph<span style="color: rgb(98,98,98)">.</span>nodes):
<span class="ansi-green-intense-fg ansi-bold">    272</span>     <span class="ansi-bold" style="color: rgb(0,135,0)">for</span> task <span class="ansi-bold" style="color: rgb(175,0,255)">in</span> tasks:
<span class="ansi-green-fg">--&gt; 273</span>         <span class="ansi-yellow-bg" style="color: rgb(0,135,0)">self</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">worker</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">run</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg">task</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg">rerun</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">=</span><span class="ansi-yellow-bg" style="color: rgb(0,135,0)">self</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">rerun</span><span class="ansi-yellow-bg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    274</span>     tasks <span style="color: rgb(98,98,98)">=</span> <span style="color: rgb(0,135,0)">self</span><span style="color: rgb(98,98,98)">.</span>get_runnable_tasks(exec_graph)
<span class="ansi-green-intense-fg ansi-bold">    275</span> workflow_task<span style="color: rgb(98,98,98)">.</span>return_values <span style="color: rgb(98,98,98)">=</span> {<span style="color: rgb(175,0,0)">&#34;</span><span style="color: rgb(175,0,0)">workflow</span><span style="color: rgb(175,0,0)">&#34;</span>: wf, <span style="color: rgb(175,0,0)">&#34;</span><span style="color: rgb(175,0,0)">exec_graph</span><span style="color: rgb(175,0,0)">&#34;</span>: exec_graph}

File <span class="ansi-green-fg">/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/pydra/engine/workers.py:163</span>, in <span class="ansi-cyan-fg">DebugWorker.run</span><span class="ansi-blue-fg">(self, task, rerun)</span>
<span class="ansi-green-intense-fg ansi-bold">    157</span> <span class="ansi-bold" style="color: rgb(0,135,0)">def</span><span style="color: rgb(188,188,188)"> </span><span style="color: rgb(0,0,255)">run</span>(
<span class="ansi-green-intense-fg ansi-bold">    158</span>     <span style="color: rgb(0,135,0)">self</span>,
<span class="ansi-green-intense-fg ansi-bold">    159</span>     task: <span style="color: rgb(175,0,0)">&#34;</span><span style="color: rgb(175,0,0)">Task[DefType]</span><span style="color: rgb(175,0,0)">&#34;</span>,
<span class="ansi-green-intense-fg ansi-bold">    160</span>     rerun: <span style="color: rgb(0,135,0)">bool</span> <span style="color: rgb(98,98,98)">=</span> <span class="ansi-bold" style="color: rgb(0,135,0)">False</span>,
<span class="ansi-green-intense-fg ansi-bold">    161</span> ) <span style="color: rgb(98,98,98)">-</span><span style="color: rgb(98,98,98)">&gt;</span> <span style="color: rgb(175,0,0)">&#34;</span><span style="color: rgb(175,0,0)">Result</span><span style="color: rgb(175,0,0)">&#34;</span>:
<span class="ansi-green-intense-fg ansi-bold">    162</span> <span style="color: rgb(188,188,188)">    </span><span style="color: rgb(175,0,0)">&#34;&#34;&#34;Run a task.&#34;&#34;&#34;</span>
<span class="ansi-green-fg">--&gt; 163</span>     <span class="ansi-bold" style="color: rgb(0,135,0)">return</span> <span class="ansi-yellow-bg">task</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">run</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg">rerun</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">=</span><span class="ansi-yellow-bg">rerun</span><span class="ansi-yellow-bg">)</span>

File <span class="ansi-green-fg">/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/pydra/engine/core.py:375</span>, in <span class="ansi-cyan-fg">Task.run</span><span class="ansi-blue-fg">(self, rerun)</span>
<span class="ansi-green-intense-fg ansi-bold">    373</span> <span class="ansi-bold" style="color: rgb(0,135,0)">try</span>:
<span class="ansi-green-intense-fg ansi-bold">    374</span>     <span style="color: rgb(0,135,0)">self</span><span style="color: rgb(98,98,98)">.</span>audit<span style="color: rgb(98,98,98)">.</span>monitor()
<span class="ansi-green-fg">--&gt; 375</span>     <span class="ansi-yellow-bg" style="color: rgb(0,135,0)">self</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">definition</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">_run</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg" style="color: rgb(0,135,0)">self</span><span class="ansi-yellow-bg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    376</span>     result<span style="color: rgb(98,98,98)">.</span>outputs <span style="color: rgb(98,98,98)">=</span> <span style="color: rgb(0,135,0)">self</span><span style="color: rgb(98,98,98)">.</span>definition<span style="color: rgb(98,98,98)">.</span>Outputs<span style="color: rgb(98,98,98)">.</span>_from_task(<span style="color: rgb(0,135,0)">self</span>)
<span class="ansi-green-intense-fg ansi-bold">    377</span> <span class="ansi-bold" style="color: rgb(0,135,0)">except</span> <span class="ansi-bold" style="color: rgb(215,95,95)">Exception</span>:

File <span class="ansi-green-fg">/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/pydra/engine/specs.py:990</span>, in <span class="ansi-cyan-fg">ShellDef._run</span><span class="ansi-blue-fg">(self, task)</span>
<span class="ansi-green-intense-fg ansi-bold">    988</span> <span class="ansi-bold" style="color: rgb(0,135,0)">def</span><span style="color: rgb(188,188,188)"> </span><span style="color: rgb(0,0,255)">_run</span>(<span style="color: rgb(0,135,0)">self</span>, task: <span style="color: rgb(175,0,0)">&#34;</span><span style="color: rgb(175,0,0)">Task[ShellDef]</span><span style="color: rgb(175,0,0)">&#34;</span>) <span style="color: rgb(98,98,98)">-</span><span style="color: rgb(98,98,98)">&gt;</span> <span class="ansi-bold" style="color: rgb(0,135,0)">None</span>:
<span class="ansi-green-intense-fg ansi-bold">    989</span> <span style="color: rgb(188,188,188)">    </span><span style="color: rgb(175,0,0)">&#34;&#34;&#34;Run the shell command.&#34;&#34;&#34;</span>
<span class="ansi-green-fg">--&gt; 990</span>     task<span style="color: rgb(98,98,98)">.</span>return_values <span style="color: rgb(98,98,98)">=</span> <span class="ansi-yellow-bg">task</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">environment</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">execute</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg">task</span><span class="ansi-yellow-bg">)</span>

File <span class="ansi-green-fg">/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/pydra/engine/environments.py:48</span>, in <span class="ansi-cyan-fg">Native.execute</span><span class="ansi-blue-fg">(self, task)</span>
<span class="ansi-green-intense-fg ansi-bold">     46</span> <span class="ansi-bold" style="color: rgb(0,135,0)">def</span><span style="color: rgb(188,188,188)"> </span><span style="color: rgb(0,0,255)">execute</span>(<span style="color: rgb(0,135,0)">self</span>, task: <span style="color: rgb(175,0,0)">&#34;</span><span style="color: rgb(175,0,0)">Task[ShellDef]</span><span style="color: rgb(175,0,0)">&#34;</span>) <span style="color: rgb(98,98,98)">-</span><span style="color: rgb(98,98,98)">&gt;</span> <span style="color: rgb(0,135,0)">dict</span>[<span style="color: rgb(0,135,0)">str</span>, ty<span style="color: rgb(98,98,98)">.</span>Any]:
<span class="ansi-green-intense-fg ansi-bold">     47</span>     keys <span style="color: rgb(98,98,98)">=</span> [<span style="color: rgb(175,0,0)">&#34;</span><span style="color: rgb(175,0,0)">return_code</span><span style="color: rgb(175,0,0)">&#34;</span>, <span style="color: rgb(175,0,0)">&#34;</span><span style="color: rgb(175,0,0)">stdout</span><span style="color: rgb(175,0,0)">&#34;</span>, <span style="color: rgb(175,0,0)">&#34;</span><span style="color: rgb(175,0,0)">stderr</span><span style="color: rgb(175,0,0)">&#34;</span>]
<span class="ansi-green-fg">---&gt; 48</span>     values <span style="color: rgb(98,98,98)">=</span> <span class="ansi-yellow-bg">execute</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg">task</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">definition</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">_command_args</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg">)</span><span class="ansi-yellow-bg">)</span>
<span class="ansi-green-intense-fg ansi-bold">     49</span>     output <span style="color: rgb(98,98,98)">=</span> <span style="color: rgb(0,135,0)">dict</span>(<span style="color: rgb(0,135,0)">zip</span>(keys, values))
<span class="ansi-green-intense-fg ansi-bold">     50</span>     <span class="ansi-bold" style="color: rgb(0,135,0)">if</span> output[<span style="color: rgb(175,0,0)">&#34;</span><span style="color: rgb(175,0,0)">return_code</span><span style="color: rgb(175,0,0)">&#34;</span>]:

File <span class="ansi-green-fg">/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/pydra/engine/helpers.py:334</span>, in <span class="ansi-cyan-fg">execute</span><span class="ansi-blue-fg">(cmd, strip)</span>
<span class="ansi-green-intense-fg ansi-bold">    318</span> <span class="ansi-bold" style="color: rgb(0,135,0)">def</span><span style="color: rgb(188,188,188)"> </span><span style="color: rgb(0,0,255)">execute</span>(cmd, strip<span style="color: rgb(98,98,98)">=</span><span class="ansi-bold" style="color: rgb(0,135,0)">False</span>):
<span class="ansi-green-intense-fg ansi-bold">    319</span> <span style="color: rgb(188,188,188)">    </span><span style="color: rgb(175,0,0)">&#34;&#34;&#34;</span>
<span class="ansi-green-intense-fg ansi-bold">    320</span> <span style="color: rgb(175,0,0)">    Run the event loop with coroutine.</span>
<span class="ansi-green-intense-fg ansi-bold">    321</span>
<span class="ansi-green-fg">   (...)</span>
<span class="ansi-green-intense-fg ansi-bold">    332</span>
<span class="ansi-green-intense-fg ansi-bold">    333</span> <span style="color: rgb(175,0,0)">    &#34;&#34;&#34;</span>
<span class="ansi-green-fg">--&gt; 334</span>     rc, stdout, stderr <span style="color: rgb(98,98,98)">=</span> <span class="ansi-yellow-bg">read_and_display</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">*</span><span class="ansi-yellow-bg">cmd</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg">strip</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">=</span><span class="ansi-yellow-bg">strip</span><span class="ansi-yellow-bg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    335</span> <span style="color: rgb(188,188,188)">    </span><span style="color: rgb(175,0,0)">&#34;&#34;&#34;</span>
<span class="ansi-green-intense-fg ansi-bold">    336</span> <span style="color: rgb(175,0,0)">    loop = get_open_loop()</span>
<span class="ansi-green-intense-fg ansi-bold">    337</span> <span style="color: rgb(175,0,0)">    if loop.is_running():</span>
<span class="ansi-green-fg">   (...)</span>
<span class="ansi-green-intense-fg ansi-bold">    342</span> <span style="color: rgb(175,0,0)">        )</span>
<span class="ansi-green-intense-fg ansi-bold">    343</span> <span style="color: rgb(175,0,0)">    &#34;&#34;&#34;</span>
<span class="ansi-green-intense-fg ansi-bold">    344</span>     <span class="ansi-bold" style="color: rgb(0,135,0)">return</span> rc, stdout, stderr

File <span class="ansi-green-fg">/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/pydra/engine/helpers.py:299</span>, in <span class="ansi-cyan-fg">read_and_display</span><span class="ansi-blue-fg">(strip, hide_display, *cmd)</span>
<span class="ansi-green-intense-fg ansi-bold">    297</span> <span style="color: rgb(175,0,0)">&#34;&#34;&#34;Capture a process&#39; standard output.&#34;&#34;&#34;</span>
<span class="ansi-green-intense-fg ansi-bold">    298</span> <span class="ansi-bold" style="color: rgb(0,135,0)">try</span>:
<span class="ansi-green-fg">--&gt; 299</span>     process <span style="color: rgb(98,98,98)">=</span> <span class="ansi-yellow-bg">sp</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">run</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg">cmd</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg">stdout</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">=</span><span class="ansi-yellow-bg">sp</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">PIPE</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg">stderr</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">=</span><span class="ansi-yellow-bg">sp</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">PIPE</span><span class="ansi-yellow-bg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    300</span> <span class="ansi-bold" style="color: rgb(0,135,0)">except</span> <span class="ansi-bold" style="color: rgb(215,95,95)">Exception</span>:
<span class="ansi-green-intense-fg ansi-bold">    301</span>     <span style="color: rgb(95,135,135)"># TODO editing some tracing?</span>
<span class="ansi-green-intense-fg ansi-bold">    302</span>     <span class="ansi-bold" style="color: rgb(0,135,0)">raise</span>

File <span class="ansi-green-fg">/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/subprocess.py:554</span>, in <span class="ansi-cyan-fg">run</span><span class="ansi-blue-fg">(input, capture_output, timeout, check, *popenargs, **kwargs)</span>
<span class="ansi-green-intense-fg ansi-bold">    551</span>     kwargs[<span style="color: rgb(175,0,0)">&#39;</span><span style="color: rgb(175,0,0)">stdout</span><span style="color: rgb(175,0,0)">&#39;</span>] <span style="color: rgb(98,98,98)">=</span> PIPE
<span class="ansi-green-intense-fg ansi-bold">    552</span>     kwargs[<span style="color: rgb(175,0,0)">&#39;</span><span style="color: rgb(175,0,0)">stderr</span><span style="color: rgb(175,0,0)">&#39;</span>] <span style="color: rgb(98,98,98)">=</span> PIPE
<span class="ansi-green-fg">--&gt; 554</span> <span class="ansi-bold" style="color: rgb(0,135,0)">with</span> <span class="ansi-yellow-bg">Popen</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">*</span><span class="ansi-yellow-bg">popenargs</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">*</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">*</span><span class="ansi-yellow-bg">kwargs</span><span class="ansi-yellow-bg">)</span> <span class="ansi-bold" style="color: rgb(0,135,0)">as</span> process:
<span class="ansi-green-intense-fg ansi-bold">    555</span>     <span class="ansi-bold" style="color: rgb(0,135,0)">try</span>:
<span class="ansi-green-intense-fg ansi-bold">    556</span>         stdout, stderr <span style="color: rgb(98,98,98)">=</span> process<span style="color: rgb(98,98,98)">.</span>communicate(<span style="color: rgb(0,135,0)">input</span>, timeout<span style="color: rgb(98,98,98)">=</span>timeout)

File <span class="ansi-green-fg">/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/subprocess.py:1036</span>, in <span class="ansi-cyan-fg">Popen.__init__</span><span class="ansi-blue-fg">(self, args, bufsize, executable, stdin, stdout, stderr, preexec_fn, close_fds, shell, cwd, env, universal_newlines, startupinfo, creationflags, restore_signals, start_new_session, pass_fds, user, group, extra_groups, encoding, errors, text, umask, pipesize, process_group)</span>
<span class="ansi-green-intense-fg ansi-bold">   1032</span>         <span class="ansi-bold" style="color: rgb(0,135,0)">if</span> <span style="color: rgb(0,135,0)">self</span><span style="color: rgb(98,98,98)">.</span>text_mode:
<span class="ansi-green-intense-fg ansi-bold">   1033</span>             <span style="color: rgb(0,135,0)">self</span><span style="color: rgb(98,98,98)">.</span>stderr <span style="color: rgb(98,98,98)">=</span> io<span style="color: rgb(98,98,98)">.</span>TextIOWrapper(<span style="color: rgb(0,135,0)">self</span><span style="color: rgb(98,98,98)">.</span>stderr,
<span class="ansi-green-intense-fg ansi-bold">   1034</span>                     encoding<span style="color: rgb(98,98,98)">=</span>encoding, errors<span style="color: rgb(98,98,98)">=</span>errors)
<span class="ansi-green-fg">-&gt; 1036</span>     <span class="ansi-yellow-bg" style="color: rgb(0,135,0)">self</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">_execute_child</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg">args</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg">executable</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg">preexec_fn</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg">close_fds</span><span class="ansi-yellow-bg">,</span>
<span class="ansi-green-intense-fg ansi-bold">   1037</span> <span class="ansi-yellow-bg">                        </span><span class="ansi-yellow-bg">pass_fds</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg">cwd</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg">env</span><span class="ansi-yellow-bg">,</span>
<span class="ansi-green-intense-fg ansi-bold">   1038</span> <span class="ansi-yellow-bg">                        </span><span class="ansi-yellow-bg">startupinfo</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg">creationflags</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg">shell</span><span class="ansi-yellow-bg">,</span>
<span class="ansi-green-intense-fg ansi-bold">   1039</span> <span class="ansi-yellow-bg">                        </span><span class="ansi-yellow-bg">p2cread</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg">p2cwrite</span><span class="ansi-yellow-bg">,</span>
<span class="ansi-green-intense-fg ansi-bold">   1040</span> <span class="ansi-yellow-bg">                        </span><span class="ansi-yellow-bg">c2pread</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg">c2pwrite</span><span class="ansi-yellow-bg">,</span>
<span class="ansi-green-intense-fg ansi-bold">   1041</span> <span class="ansi-yellow-bg">                        </span><span class="ansi-yellow-bg">errread</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg">errwrite</span><span class="ansi-yellow-bg">,</span>
<span class="ansi-green-intense-fg ansi-bold">   1042</span> <span class="ansi-yellow-bg">                        </span><span class="ansi-yellow-bg">restore_signals</span><span class="ansi-yellow-bg">,</span>
<span class="ansi-green-intense-fg ansi-bold">   1043</span> <span class="ansi-yellow-bg">                        </span><span class="ansi-yellow-bg">gid</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg">gids</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg">uid</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg">umask</span><span class="ansi-yellow-bg">,</span>
<span class="ansi-green-intense-fg ansi-bold">   1044</span> <span class="ansi-yellow-bg">                        </span><span class="ansi-yellow-bg">start_new_session</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg">process_group</span><span class="ansi-yellow-bg">)</span>
<span class="ansi-green-intense-fg ansi-bold">   1045</span> <span class="ansi-bold" style="color: rgb(0,135,0)">except</span>:
<span class="ansi-green-intense-fg ansi-bold">   1046</span>     <span style="color: rgb(95,135,135)"># Cleanup if the child failed starting.</span>
<span class="ansi-green-intense-fg ansi-bold">   1047</span>     <span class="ansi-bold" style="color: rgb(0,135,0)">for</span> f <span class="ansi-bold" style="color: rgb(175,0,255)">in</span> <span style="color: rgb(0,135,0)">filter</span>(<span class="ansi-bold" style="color: rgb(0,135,0)">None</span>, (<span style="color: rgb(0,135,0)">self</span><span style="color: rgb(98,98,98)">.</span>stdin, <span style="color: rgb(0,135,0)">self</span><span style="color: rgb(98,98,98)">.</span>stdout, <span style="color: rgb(0,135,0)">self</span><span style="color: rgb(98,98,98)">.</span>stderr)):

File <span class="ansi-green-fg">/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/subprocess.py:1966</span>, in <span class="ansi-cyan-fg">Popen._execute_child</span><span class="ansi-blue-fg">(self, args, executable, preexec_fn, close_fds, pass_fds, cwd, env, startupinfo, creationflags, shell, p2cread, p2cwrite, c2pread, c2pwrite, errread, errwrite, restore_signals, gid, gids, uid, umask, start_new_session, process_group)</span>
<span class="ansi-green-intense-fg ansi-bold">   1964</span>     err_msg <span style="color: rgb(98,98,98)">=</span> os<span style="color: rgb(98,98,98)">.</span>strerror(errno_num)
<span class="ansi-green-intense-fg ansi-bold">   1965</span> <span class="ansi-bold" style="color: rgb(0,135,0)">if</span> err_filename <span class="ansi-bold" style="color: rgb(175,0,255)">is</span> <span class="ansi-bold" style="color: rgb(175,0,255)">not</span> <span class="ansi-bold" style="color: rgb(0,135,0)">None</span>:
<span class="ansi-green-fg">-&gt; 1966</span>     <span class="ansi-bold" style="color: rgb(0,135,0)">raise</span> child_exception_type(errno_num, err_msg, err_filename)
<span class="ansi-green-intense-fg ansi-bold">   1967</span> <span class="ansi-bold" style="color: rgb(0,135,0)">else</span>:
<span class="ansi-green-intense-fg ansi-bold">   1968</span>     <span class="ansi-bold" style="color: rgb(0,135,0)">raise</span> child_exception_type(errno_num, err_msg)

<span class="ansi-red-fg">FileNotFoundError</span>: [Errno 2] No such file or directory: &#39;mrgrid&#39;
Full crash report for &#39;Split&#39; task is here: /home/runner/.cache/pydra/0.25.dev206+gd1d95cc9/run-cache/workflow-aa0733005aed6954d1039271adcdabc8/_error.pklz
</pre></div></div>
</div>
<p>To check alternative cache roots, while storing any generated task cache dirs in the specified cache root, the <code class="docutils literal notranslate"><span class="pre">cache_locations</span></code> keyword argument can be used</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">pydra.utils</span><span class="w"> </span><span class="kn">import</span> <span class="n">default_run_cache_dir</span>

<span class="n">my_cache_dir</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="s2">&quot;~/pydra-cache&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">expanduser</span><span class="p">()</span>
<span class="n">my_cache_dir</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="n">exist_ok</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="n">outputs</span> <span class="o">=</span> <span class="n">mrgrid</span><span class="p">(</span>
    <span class="n">cache_dir</span><span class="o">=</span><span class="n">my_cache_dir</span><span class="p">,</span>
    <span class="n">cache_locations</span><span class="o">=</span><span class="p">[</span><span class="n">default_run_cache_dir</span><span class="p">]</span>
<span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="n">outputs</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">FileNotFoundError</span>                         Traceback (most recent call last)
Cell <span class="ansi-green-fg">In[9], line 6</span>
<span class="ansi-green-intense-fg ansi-bold">      3</span> my_cache_dir <span style="color: rgb(98,98,98)">=</span> Path(<span style="color: rgb(175,0,0)">&#34;</span><span style="color: rgb(175,0,0)">~/pydra-cache</span><span style="color: rgb(175,0,0)">&#34;</span>)<span style="color: rgb(98,98,98)">.</span>expanduser()
<span class="ansi-green-intense-fg ansi-bold">      4</span> my_cache_dir<span style="color: rgb(98,98,98)">.</span>mkdir(exist_ok<span style="color: rgb(98,98,98)">=</span><span class="ansi-bold" style="color: rgb(0,135,0)">True</span>)
<span class="ansi-green-fg">----&gt; 6</span> outputs <span style="color: rgb(98,98,98)">=</span> <span class="ansi-yellow-bg">mrgrid</span><span class="ansi-yellow-bg">(</span>
<span class="ansi-green-intense-fg ansi-bold">      7</span> <span class="ansi-yellow-bg">    </span><span class="ansi-yellow-bg">cache_dir</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">=</span><span class="ansi-yellow-bg">my_cache_dir</span><span class="ansi-yellow-bg">,</span>
<span class="ansi-green-intense-fg ansi-bold">      8</span> <span class="ansi-yellow-bg">    </span><span class="ansi-yellow-bg">cache_locations</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">=</span><span class="ansi-yellow-bg">[</span><span class="ansi-yellow-bg">default_run_cache_dir</span><span class="ansi-yellow-bg">]</span>
<span class="ansi-green-intense-fg ansi-bold">      9</span> <span class="ansi-yellow-bg">)</span>
<span class="ansi-green-intense-fg ansi-bold">     11</span> <span style="color: rgb(0,135,0)">print</span>(outputs)

File <span class="ansi-green-fg">/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/pydra/engine/specs.py:220</span>, in <span class="ansi-cyan-fg">TaskDef.__call__</span><span class="ansi-blue-fg">(self, cache_dir, worker, environment, rerun, cache_locations, audit_flags, messengers, messenger_args, name, pre_run, post_run, pre_run_task, post_run_task, **kwargs)</span>
<span class="ansi-green-intense-fg ansi-bold">    208</span> <span class="ansi-bold" style="color: rgb(0,135,0)">try</span>:
<span class="ansi-green-intense-fg ansi-bold">    209</span>     <span class="ansi-bold" style="color: rgb(0,135,0)">with</span> Submitter(
<span class="ansi-green-intense-fg ansi-bold">    210</span>         audit_flags<span style="color: rgb(98,98,98)">=</span>audit_flags,
<span class="ansi-green-intense-fg ansi-bold">    211</span>         cache_dir<span style="color: rgb(98,98,98)">=</span>cache_dir,
<span class="ansi-green-fg">   (...)</span>
<span class="ansi-green-intense-fg ansi-bold">    218</span>         <span style="color: rgb(98,98,98)">*</span><span style="color: rgb(98,98,98)">*</span>kwargs,
<span class="ansi-green-intense-fg ansi-bold">    219</span>     ) <span class="ansi-bold" style="color: rgb(0,135,0)">as</span> sub:
<span class="ansi-green-fg">--&gt; 220</span>         result <span style="color: rgb(98,98,98)">=</span> <span class="ansi-yellow-bg">sub</span><span class="ansi-yellow-bg">(</span>
<span class="ansi-green-intense-fg ansi-bold">    221</span> <span class="ansi-yellow-bg">            </span><span class="ansi-yellow-bg" style="color: rgb(0,135,0)">self</span><span class="ansi-yellow-bg">,</span>
<span class="ansi-green-intense-fg ansi-bold">    222</span> <span class="ansi-yellow-bg">            </span><span class="ansi-yellow-bg">name</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">=</span><span class="ansi-yellow-bg">name</span><span class="ansi-yellow-bg">,</span>
<span class="ansi-green-intense-fg ansi-bold">    223</span> <span class="ansi-yellow-bg">            </span><span class="ansi-yellow-bg">pre_run</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">=</span><span class="ansi-yellow-bg">pre_run</span><span class="ansi-yellow-bg">,</span>
<span class="ansi-green-intense-fg ansi-bold">    224</span> <span class="ansi-yellow-bg">            </span><span class="ansi-yellow-bg">post_run</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">=</span><span class="ansi-yellow-bg">post_run</span><span class="ansi-yellow-bg">,</span>
<span class="ansi-green-intense-fg ansi-bold">    225</span> <span class="ansi-yellow-bg">            </span><span class="ansi-yellow-bg">pre_run_task</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">=</span><span class="ansi-yellow-bg">pre_run_task</span><span class="ansi-yellow-bg">,</span>
<span class="ansi-green-intense-fg ansi-bold">    226</span> <span class="ansi-yellow-bg">            </span><span class="ansi-yellow-bg">post_run_task</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">=</span><span class="ansi-yellow-bg">post_run_task</span><span class="ansi-yellow-bg">,</span>
<span class="ansi-green-intense-fg ansi-bold">    227</span> <span class="ansi-yellow-bg">        </span><span class="ansi-yellow-bg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    228</span> <span class="ansi-bold" style="color: rgb(0,135,0)">except</span> <span class="ansi-bold" style="color: rgb(215,95,95)">TypeError</span> <span class="ansi-bold" style="color: rgb(0,135,0)">as</span> e:
<span class="ansi-green-intense-fg ansi-bold">    229</span>     <span style="color: rgb(95,135,135)"># Catch any inadvertent passing of task definition parameters to the</span>
<span class="ansi-green-intense-fg ansi-bold">    230</span>     <span style="color: rgb(95,135,135)"># execution call</span>
<span class="ansi-green-intense-fg ansi-bold">    231</span>     <span class="ansi-bold" style="color: rgb(0,135,0)">if</span> <span style="color: rgb(0,135,0)">hasattr</span>(e, <span style="color: rgb(175,0,0)">&#34;</span><span style="color: rgb(175,0,0)">__notes__</span><span style="color: rgb(175,0,0)">&#34;</span>) <span class="ansi-bold" style="color: rgb(175,0,255)">and</span> WORKER_KWARG_FAIL_NOTE <span class="ansi-bold" style="color: rgb(175,0,255)">in</span> e<span style="color: rgb(98,98,98)">.</span>__notes__:

File <span class="ansi-green-fg">/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/pydra/engine/submitter.py:224</span>, in <span class="ansi-cyan-fg">Submitter.__call__</span><span class="ansi-blue-fg">(self, task_def, name, pre_run, post_run, pre_run_task, post_run_task)</span>
<span class="ansi-green-intense-fg ansi-bold">    219</span> <span class="ansi-bold" style="color: rgb(0,135,0)">except</span> <span class="ansi-bold" style="color: rgb(215,95,95)">Exception</span> <span class="ansi-bold" style="color: rgb(0,135,0)">as</span> e:
<span class="ansi-green-intense-fg ansi-bold">    220</span>     e<span style="color: rgb(98,98,98)">.</span>add_note(
<span class="ansi-green-intense-fg ansi-bold">    221</span>         <span style="color: rgb(175,0,0)">f</span><span style="color: rgb(175,0,0)">&#34;</span><span style="color: rgb(175,0,0)">Full crash report for </span><span class="ansi-bold" style="color: rgb(175,95,135)">{</span><span style="color: rgb(0,135,0)">type</span>(task_def)<span style="color: rgb(98,98,98)">.</span><span style="color: rgb(0,0,135)">__name__</span><span class="ansi-bold" style="color: rgb(175,95,135)">!r}</span><span style="color: rgb(175,0,0)"> task is here: </span><span style="color: rgb(175,0,0)">&#34;</span>
<span class="ansi-green-intense-fg ansi-bold">    222</span>         <span style="color: rgb(98,98,98)">+</span> <span style="color: rgb(0,135,0)">str</span>(task<span style="color: rgb(98,98,98)">.</span>output_dir <span style="color: rgb(98,98,98)">/</span> <span style="color: rgb(175,0,0)">&#34;</span><span style="color: rgb(175,0,0)">_error.pklz</span><span style="color: rgb(175,0,0)">&#34;</span>)
<span class="ansi-green-intense-fg ansi-bold">    223</span>     )
<span class="ansi-green-fg">--&gt; 224</span>     <span class="ansi-bold" style="color: rgb(0,135,0)">raise</span> e
<span class="ansi-green-intense-fg ansi-bold">    225</span> <span class="ansi-bold" style="color: rgb(0,135,0)">finally</span>:
<span class="ansi-green-intense-fg ansi-bold">    226</span>     <span style="color: rgb(0,135,0)">self</span><span style="color: rgb(98,98,98)">.</span>run_start_time <span style="color: rgb(98,98,98)">=</span> <span class="ansi-bold" style="color: rgb(0,135,0)">None</span>

File <span class="ansi-green-fg">/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/pydra/engine/submitter.py:218</span>, in <span class="ansi-cyan-fg">Submitter.__call__</span><span class="ansi-blue-fg">(self, task_def, name, pre_run, post_run, pre_run_task, post_run_task)</span>
<span class="ansi-green-intense-fg ansi-bold">    214</span>         <span style="color: rgb(0,135,0)">self</span><span style="color: rgb(98,98,98)">.</span>loop<span style="color: rgb(98,98,98)">.</span>run_until_complete(
<span class="ansi-green-intense-fg ansi-bold">    215</span>             <span style="color: rgb(0,135,0)">self</span><span style="color: rgb(98,98,98)">.</span>worker<span style="color: rgb(98,98,98)">.</span>run_async(task, rerun<span style="color: rgb(98,98,98)">=</span><span style="color: rgb(0,135,0)">self</span><span style="color: rgb(98,98,98)">.</span>rerun)
<span class="ansi-green-intense-fg ansi-bold">    216</span>         )
<span class="ansi-green-intense-fg ansi-bold">    217</span>     <span class="ansi-bold" style="color: rgb(0,135,0)">else</span>:
<span class="ansi-green-fg">--&gt; 218</span>         <span class="ansi-yellow-bg" style="color: rgb(0,135,0)">self</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">worker</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">run</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg">task</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg">rerun</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">=</span><span class="ansi-yellow-bg" style="color: rgb(0,135,0)">self</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">rerun</span><span class="ansi-yellow-bg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    219</span> <span class="ansi-bold" style="color: rgb(0,135,0)">except</span> <span class="ansi-bold" style="color: rgb(215,95,95)">Exception</span> <span class="ansi-bold" style="color: rgb(0,135,0)">as</span> e:
<span class="ansi-green-intense-fg ansi-bold">    220</span>     e<span style="color: rgb(98,98,98)">.</span>add_note(
<span class="ansi-green-intense-fg ansi-bold">    221</span>         <span style="color: rgb(175,0,0)">f</span><span style="color: rgb(175,0,0)">&#34;</span><span style="color: rgb(175,0,0)">Full crash report for </span><span class="ansi-bold" style="color: rgb(175,95,135)">{</span><span style="color: rgb(0,135,0)">type</span>(task_def)<span style="color: rgb(98,98,98)">.</span><span style="color: rgb(0,0,135)">__name__</span><span class="ansi-bold" style="color: rgb(175,95,135)">!r}</span><span style="color: rgb(175,0,0)"> task is here: </span><span style="color: rgb(175,0,0)">&#34;</span>
<span class="ansi-green-intense-fg ansi-bold">    222</span>         <span style="color: rgb(98,98,98)">+</span> <span style="color: rgb(0,135,0)">str</span>(task<span style="color: rgb(98,98,98)">.</span>output_dir <span style="color: rgb(98,98,98)">/</span> <span style="color: rgb(175,0,0)">&#34;</span><span style="color: rgb(175,0,0)">_error.pklz</span><span style="color: rgb(175,0,0)">&#34;</span>)
<span class="ansi-green-intense-fg ansi-bold">    223</span>     )

File <span class="ansi-green-fg">/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/pydra/engine/workers.py:163</span>, in <span class="ansi-cyan-fg">DebugWorker.run</span><span class="ansi-blue-fg">(self, task, rerun)</span>
<span class="ansi-green-intense-fg ansi-bold">    157</span> <span class="ansi-bold" style="color: rgb(0,135,0)">def</span><span style="color: rgb(188,188,188)"> </span><span style="color: rgb(0,0,255)">run</span>(
<span class="ansi-green-intense-fg ansi-bold">    158</span>     <span style="color: rgb(0,135,0)">self</span>,
<span class="ansi-green-intense-fg ansi-bold">    159</span>     task: <span style="color: rgb(175,0,0)">&#34;</span><span style="color: rgb(175,0,0)">Task[DefType]</span><span style="color: rgb(175,0,0)">&#34;</span>,
<span class="ansi-green-intense-fg ansi-bold">    160</span>     rerun: <span style="color: rgb(0,135,0)">bool</span> <span style="color: rgb(98,98,98)">=</span> <span class="ansi-bold" style="color: rgb(0,135,0)">False</span>,
<span class="ansi-green-intense-fg ansi-bold">    161</span> ) <span style="color: rgb(98,98,98)">-</span><span style="color: rgb(98,98,98)">&gt;</span> <span style="color: rgb(175,0,0)">&#34;</span><span style="color: rgb(175,0,0)">Result</span><span style="color: rgb(175,0,0)">&#34;</span>:
<span class="ansi-green-intense-fg ansi-bold">    162</span> <span style="color: rgb(188,188,188)">    </span><span style="color: rgb(175,0,0)">&#34;&#34;&#34;Run a task.&#34;&#34;&#34;</span>
<span class="ansi-green-fg">--&gt; 163</span>     <span class="ansi-bold" style="color: rgb(0,135,0)">return</span> <span class="ansi-yellow-bg">task</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">run</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg">rerun</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">=</span><span class="ansi-yellow-bg">rerun</span><span class="ansi-yellow-bg">)</span>

File <span class="ansi-green-fg">/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/pydra/engine/core.py:375</span>, in <span class="ansi-cyan-fg">Task.run</span><span class="ansi-blue-fg">(self, rerun)</span>
<span class="ansi-green-intense-fg ansi-bold">    373</span> <span class="ansi-bold" style="color: rgb(0,135,0)">try</span>:
<span class="ansi-green-intense-fg ansi-bold">    374</span>     <span style="color: rgb(0,135,0)">self</span><span style="color: rgb(98,98,98)">.</span>audit<span style="color: rgb(98,98,98)">.</span>monitor()
<span class="ansi-green-fg">--&gt; 375</span>     <span class="ansi-yellow-bg" style="color: rgb(0,135,0)">self</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">definition</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">_run</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg" style="color: rgb(0,135,0)">self</span><span class="ansi-yellow-bg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    376</span>     result<span style="color: rgb(98,98,98)">.</span>outputs <span style="color: rgb(98,98,98)">=</span> <span style="color: rgb(0,135,0)">self</span><span style="color: rgb(98,98,98)">.</span>definition<span style="color: rgb(98,98,98)">.</span>Outputs<span style="color: rgb(98,98,98)">.</span>_from_task(<span style="color: rgb(0,135,0)">self</span>)
<span class="ansi-green-intense-fg ansi-bold">    377</span> <span class="ansi-bold" style="color: rgb(0,135,0)">except</span> <span class="ansi-bold" style="color: rgb(215,95,95)">Exception</span>:

File <span class="ansi-green-fg">/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/pydra/engine/specs.py:790</span>, in <span class="ansi-cyan-fg">WorkflowDef._run</span><span class="ansi-blue-fg">(self, task)</span>
<span class="ansi-green-intense-fg ansi-bold">    788</span> <span class="ansi-bold" style="color: rgb(0,135,0)">def</span><span style="color: rgb(188,188,188)"> </span><span style="color: rgb(0,0,255)">_run</span>(<span style="color: rgb(0,135,0)">self</span>, task: <span style="color: rgb(175,0,0)">&#34;</span><span style="color: rgb(175,0,0)">Task[WorkflowDef]</span><span style="color: rgb(175,0,0)">&#34;</span>) <span style="color: rgb(98,98,98)">-</span><span style="color: rgb(98,98,98)">&gt;</span> <span class="ansi-bold" style="color: rgb(0,135,0)">None</span>:
<span class="ansi-green-intense-fg ansi-bold">    789</span> <span style="color: rgb(188,188,188)">    </span><span style="color: rgb(175,0,0)">&#34;&#34;&#34;Run the workflow.&#34;&#34;&#34;</span>
<span class="ansi-green-fg">--&gt; 790</span>     <span class="ansi-yellow-bg">task</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">submitter</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">expand_workflow</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg">task</span><span class="ansi-yellow-bg">)</span>

File <span class="ansi-green-fg">/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/pydra/engine/submitter.py:273</span>, in <span class="ansi-cyan-fg">Submitter.expand_workflow</span><span class="ansi-blue-fg">(self, workflow_task)</span>
<span class="ansi-green-intense-fg ansi-bold">    271</span> <span class="ansi-bold" style="color: rgb(0,135,0)">while</span> tasks <span class="ansi-bold" style="color: rgb(175,0,255)">or</span> <span style="color: rgb(0,135,0)">any</span>(<span class="ansi-bold" style="color: rgb(175,0,255)">not</span> n<span style="color: rgb(98,98,98)">.</span>done <span class="ansi-bold" style="color: rgb(0,135,0)">for</span> n <span class="ansi-bold" style="color: rgb(175,0,255)">in</span> exec_graph<span style="color: rgb(98,98,98)">.</span>nodes):
<span class="ansi-green-intense-fg ansi-bold">    272</span>     <span class="ansi-bold" style="color: rgb(0,135,0)">for</span> task <span class="ansi-bold" style="color: rgb(175,0,255)">in</span> tasks:
<span class="ansi-green-fg">--&gt; 273</span>         <span class="ansi-yellow-bg" style="color: rgb(0,135,0)">self</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">worker</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">run</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg">task</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg">rerun</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">=</span><span class="ansi-yellow-bg" style="color: rgb(0,135,0)">self</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">rerun</span><span class="ansi-yellow-bg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    274</span>     tasks <span style="color: rgb(98,98,98)">=</span> <span style="color: rgb(0,135,0)">self</span><span style="color: rgb(98,98,98)">.</span>get_runnable_tasks(exec_graph)
<span class="ansi-green-intense-fg ansi-bold">    275</span> workflow_task<span style="color: rgb(98,98,98)">.</span>return_values <span style="color: rgb(98,98,98)">=</span> {<span style="color: rgb(175,0,0)">&#34;</span><span style="color: rgb(175,0,0)">workflow</span><span style="color: rgb(175,0,0)">&#34;</span>: wf, <span style="color: rgb(175,0,0)">&#34;</span><span style="color: rgb(175,0,0)">exec_graph</span><span style="color: rgb(175,0,0)">&#34;</span>: exec_graph}

File <span class="ansi-green-fg">/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/pydra/engine/workers.py:163</span>, in <span class="ansi-cyan-fg">DebugWorker.run</span><span class="ansi-blue-fg">(self, task, rerun)</span>
<span class="ansi-green-intense-fg ansi-bold">    157</span> <span class="ansi-bold" style="color: rgb(0,135,0)">def</span><span style="color: rgb(188,188,188)"> </span><span style="color: rgb(0,0,255)">run</span>(
<span class="ansi-green-intense-fg ansi-bold">    158</span>     <span style="color: rgb(0,135,0)">self</span>,
<span class="ansi-green-intense-fg ansi-bold">    159</span>     task: <span style="color: rgb(175,0,0)">&#34;</span><span style="color: rgb(175,0,0)">Task[DefType]</span><span style="color: rgb(175,0,0)">&#34;</span>,
<span class="ansi-green-intense-fg ansi-bold">    160</span>     rerun: <span style="color: rgb(0,135,0)">bool</span> <span style="color: rgb(98,98,98)">=</span> <span class="ansi-bold" style="color: rgb(0,135,0)">False</span>,
<span class="ansi-green-intense-fg ansi-bold">    161</span> ) <span style="color: rgb(98,98,98)">-</span><span style="color: rgb(98,98,98)">&gt;</span> <span style="color: rgb(175,0,0)">&#34;</span><span style="color: rgb(175,0,0)">Result</span><span style="color: rgb(175,0,0)">&#34;</span>:
<span class="ansi-green-intense-fg ansi-bold">    162</span> <span style="color: rgb(188,188,188)">    </span><span style="color: rgb(175,0,0)">&#34;&#34;&#34;Run a task.&#34;&#34;&#34;</span>
<span class="ansi-green-fg">--&gt; 163</span>     <span class="ansi-bold" style="color: rgb(0,135,0)">return</span> <span class="ansi-yellow-bg">task</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">run</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg">rerun</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">=</span><span class="ansi-yellow-bg">rerun</span><span class="ansi-yellow-bg">)</span>

File <span class="ansi-green-fg">/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/pydra/engine/core.py:375</span>, in <span class="ansi-cyan-fg">Task.run</span><span class="ansi-blue-fg">(self, rerun)</span>
<span class="ansi-green-intense-fg ansi-bold">    373</span> <span class="ansi-bold" style="color: rgb(0,135,0)">try</span>:
<span class="ansi-green-intense-fg ansi-bold">    374</span>     <span style="color: rgb(0,135,0)">self</span><span style="color: rgb(98,98,98)">.</span>audit<span style="color: rgb(98,98,98)">.</span>monitor()
<span class="ansi-green-fg">--&gt; 375</span>     <span class="ansi-yellow-bg" style="color: rgb(0,135,0)">self</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">definition</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">_run</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg" style="color: rgb(0,135,0)">self</span><span class="ansi-yellow-bg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    376</span>     result<span style="color: rgb(98,98,98)">.</span>outputs <span style="color: rgb(98,98,98)">=</span> <span style="color: rgb(0,135,0)">self</span><span style="color: rgb(98,98,98)">.</span>definition<span style="color: rgb(98,98,98)">.</span>Outputs<span style="color: rgb(98,98,98)">.</span>_from_task(<span style="color: rgb(0,135,0)">self</span>)
<span class="ansi-green-intense-fg ansi-bold">    377</span> <span class="ansi-bold" style="color: rgb(0,135,0)">except</span> <span class="ansi-bold" style="color: rgb(215,95,95)">Exception</span>:

File <span class="ansi-green-fg">/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/pydra/engine/specs.py:990</span>, in <span class="ansi-cyan-fg">ShellDef._run</span><span class="ansi-blue-fg">(self, task)</span>
<span class="ansi-green-intense-fg ansi-bold">    988</span> <span class="ansi-bold" style="color: rgb(0,135,0)">def</span><span style="color: rgb(188,188,188)"> </span><span style="color: rgb(0,0,255)">_run</span>(<span style="color: rgb(0,135,0)">self</span>, task: <span style="color: rgb(175,0,0)">&#34;</span><span style="color: rgb(175,0,0)">Task[ShellDef]</span><span style="color: rgb(175,0,0)">&#34;</span>) <span style="color: rgb(98,98,98)">-</span><span style="color: rgb(98,98,98)">&gt;</span> <span class="ansi-bold" style="color: rgb(0,135,0)">None</span>:
<span class="ansi-green-intense-fg ansi-bold">    989</span> <span style="color: rgb(188,188,188)">    </span><span style="color: rgb(175,0,0)">&#34;&#34;&#34;Run the shell command.&#34;&#34;&#34;</span>
<span class="ansi-green-fg">--&gt; 990</span>     task<span style="color: rgb(98,98,98)">.</span>return_values <span style="color: rgb(98,98,98)">=</span> <span class="ansi-yellow-bg">task</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">environment</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">execute</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg">task</span><span class="ansi-yellow-bg">)</span>

File <span class="ansi-green-fg">/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/pydra/engine/environments.py:48</span>, in <span class="ansi-cyan-fg">Native.execute</span><span class="ansi-blue-fg">(self, task)</span>
<span class="ansi-green-intense-fg ansi-bold">     46</span> <span class="ansi-bold" style="color: rgb(0,135,0)">def</span><span style="color: rgb(188,188,188)"> </span><span style="color: rgb(0,0,255)">execute</span>(<span style="color: rgb(0,135,0)">self</span>, task: <span style="color: rgb(175,0,0)">&#34;</span><span style="color: rgb(175,0,0)">Task[ShellDef]</span><span style="color: rgb(175,0,0)">&#34;</span>) <span style="color: rgb(98,98,98)">-</span><span style="color: rgb(98,98,98)">&gt;</span> <span style="color: rgb(0,135,0)">dict</span>[<span style="color: rgb(0,135,0)">str</span>, ty<span style="color: rgb(98,98,98)">.</span>Any]:
<span class="ansi-green-intense-fg ansi-bold">     47</span>     keys <span style="color: rgb(98,98,98)">=</span> [<span style="color: rgb(175,0,0)">&#34;</span><span style="color: rgb(175,0,0)">return_code</span><span style="color: rgb(175,0,0)">&#34;</span>, <span style="color: rgb(175,0,0)">&#34;</span><span style="color: rgb(175,0,0)">stdout</span><span style="color: rgb(175,0,0)">&#34;</span>, <span style="color: rgb(175,0,0)">&#34;</span><span style="color: rgb(175,0,0)">stderr</span><span style="color: rgb(175,0,0)">&#34;</span>]
<span class="ansi-green-fg">---&gt; 48</span>     values <span style="color: rgb(98,98,98)">=</span> <span class="ansi-yellow-bg">execute</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg">task</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">definition</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">_command_args</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg">)</span><span class="ansi-yellow-bg">)</span>
<span class="ansi-green-intense-fg ansi-bold">     49</span>     output <span style="color: rgb(98,98,98)">=</span> <span style="color: rgb(0,135,0)">dict</span>(<span style="color: rgb(0,135,0)">zip</span>(keys, values))
<span class="ansi-green-intense-fg ansi-bold">     50</span>     <span class="ansi-bold" style="color: rgb(0,135,0)">if</span> output[<span style="color: rgb(175,0,0)">&#34;</span><span style="color: rgb(175,0,0)">return_code</span><span style="color: rgb(175,0,0)">&#34;</span>]:

File <span class="ansi-green-fg">/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/pydra/engine/helpers.py:334</span>, in <span class="ansi-cyan-fg">execute</span><span class="ansi-blue-fg">(cmd, strip)</span>
<span class="ansi-green-intense-fg ansi-bold">    318</span> <span class="ansi-bold" style="color: rgb(0,135,0)">def</span><span style="color: rgb(188,188,188)"> </span><span style="color: rgb(0,0,255)">execute</span>(cmd, strip<span style="color: rgb(98,98,98)">=</span><span class="ansi-bold" style="color: rgb(0,135,0)">False</span>):
<span class="ansi-green-intense-fg ansi-bold">    319</span> <span style="color: rgb(188,188,188)">    </span><span style="color: rgb(175,0,0)">&#34;&#34;&#34;</span>
<span class="ansi-green-intense-fg ansi-bold">    320</span> <span style="color: rgb(175,0,0)">    Run the event loop with coroutine.</span>
<span class="ansi-green-intense-fg ansi-bold">    321</span>
<span class="ansi-green-fg">   (...)</span>
<span class="ansi-green-intense-fg ansi-bold">    332</span>
<span class="ansi-green-intense-fg ansi-bold">    333</span> <span style="color: rgb(175,0,0)">    &#34;&#34;&#34;</span>
<span class="ansi-green-fg">--&gt; 334</span>     rc, stdout, stderr <span style="color: rgb(98,98,98)">=</span> <span class="ansi-yellow-bg">read_and_display</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">*</span><span class="ansi-yellow-bg">cmd</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg">strip</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">=</span><span class="ansi-yellow-bg">strip</span><span class="ansi-yellow-bg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    335</span> <span style="color: rgb(188,188,188)">    </span><span style="color: rgb(175,0,0)">&#34;&#34;&#34;</span>
<span class="ansi-green-intense-fg ansi-bold">    336</span> <span style="color: rgb(175,0,0)">    loop = get_open_loop()</span>
<span class="ansi-green-intense-fg ansi-bold">    337</span> <span style="color: rgb(175,0,0)">    if loop.is_running():</span>
<span class="ansi-green-fg">   (...)</span>
<span class="ansi-green-intense-fg ansi-bold">    342</span> <span style="color: rgb(175,0,0)">        )</span>
<span class="ansi-green-intense-fg ansi-bold">    343</span> <span style="color: rgb(175,0,0)">    &#34;&#34;&#34;</span>
<span class="ansi-green-intense-fg ansi-bold">    344</span>     <span class="ansi-bold" style="color: rgb(0,135,0)">return</span> rc, stdout, stderr

File <span class="ansi-green-fg">/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/site-packages/pydra/engine/helpers.py:299</span>, in <span class="ansi-cyan-fg">read_and_display</span><span class="ansi-blue-fg">(strip, hide_display, *cmd)</span>
<span class="ansi-green-intense-fg ansi-bold">    297</span> <span style="color: rgb(175,0,0)">&#34;&#34;&#34;Capture a process&#39; standard output.&#34;&#34;&#34;</span>
<span class="ansi-green-intense-fg ansi-bold">    298</span> <span class="ansi-bold" style="color: rgb(0,135,0)">try</span>:
<span class="ansi-green-fg">--&gt; 299</span>     process <span style="color: rgb(98,98,98)">=</span> <span class="ansi-yellow-bg">sp</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">run</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg">cmd</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg">stdout</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">=</span><span class="ansi-yellow-bg">sp</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">PIPE</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg">stderr</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">=</span><span class="ansi-yellow-bg">sp</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">PIPE</span><span class="ansi-yellow-bg">)</span>
<span class="ansi-green-intense-fg ansi-bold">    300</span> <span class="ansi-bold" style="color: rgb(0,135,0)">except</span> <span class="ansi-bold" style="color: rgb(215,95,95)">Exception</span>:
<span class="ansi-green-intense-fg ansi-bold">    301</span>     <span style="color: rgb(95,135,135)"># TODO editing some tracing?</span>
<span class="ansi-green-intense-fg ansi-bold">    302</span>     <span class="ansi-bold" style="color: rgb(0,135,0)">raise</span>

File <span class="ansi-green-fg">/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/subprocess.py:554</span>, in <span class="ansi-cyan-fg">run</span><span class="ansi-blue-fg">(input, capture_output, timeout, check, *popenargs, **kwargs)</span>
<span class="ansi-green-intense-fg ansi-bold">    551</span>     kwargs[<span style="color: rgb(175,0,0)">&#39;</span><span style="color: rgb(175,0,0)">stdout</span><span style="color: rgb(175,0,0)">&#39;</span>] <span style="color: rgb(98,98,98)">=</span> PIPE
<span class="ansi-green-intense-fg ansi-bold">    552</span>     kwargs[<span style="color: rgb(175,0,0)">&#39;</span><span style="color: rgb(175,0,0)">stderr</span><span style="color: rgb(175,0,0)">&#39;</span>] <span style="color: rgb(98,98,98)">=</span> PIPE
<span class="ansi-green-fg">--&gt; 554</span> <span class="ansi-bold" style="color: rgb(0,135,0)">with</span> <span class="ansi-yellow-bg">Popen</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">*</span><span class="ansi-yellow-bg">popenargs</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">*</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">*</span><span class="ansi-yellow-bg">kwargs</span><span class="ansi-yellow-bg">)</span> <span class="ansi-bold" style="color: rgb(0,135,0)">as</span> process:
<span class="ansi-green-intense-fg ansi-bold">    555</span>     <span class="ansi-bold" style="color: rgb(0,135,0)">try</span>:
<span class="ansi-green-intense-fg ansi-bold">    556</span>         stdout, stderr <span style="color: rgb(98,98,98)">=</span> process<span style="color: rgb(98,98,98)">.</span>communicate(<span style="color: rgb(0,135,0)">input</span>, timeout<span style="color: rgb(98,98,98)">=</span>timeout)

File <span class="ansi-green-fg">/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/subprocess.py:1036</span>, in <span class="ansi-cyan-fg">Popen.__init__</span><span class="ansi-blue-fg">(self, args, bufsize, executable, stdin, stdout, stderr, preexec_fn, close_fds, shell, cwd, env, universal_newlines, startupinfo, creationflags, restore_signals, start_new_session, pass_fds, user, group, extra_groups, encoding, errors, text, umask, pipesize, process_group)</span>
<span class="ansi-green-intense-fg ansi-bold">   1032</span>         <span class="ansi-bold" style="color: rgb(0,135,0)">if</span> <span style="color: rgb(0,135,0)">self</span><span style="color: rgb(98,98,98)">.</span>text_mode:
<span class="ansi-green-intense-fg ansi-bold">   1033</span>             <span style="color: rgb(0,135,0)">self</span><span style="color: rgb(98,98,98)">.</span>stderr <span style="color: rgb(98,98,98)">=</span> io<span style="color: rgb(98,98,98)">.</span>TextIOWrapper(<span style="color: rgb(0,135,0)">self</span><span style="color: rgb(98,98,98)">.</span>stderr,
<span class="ansi-green-intense-fg ansi-bold">   1034</span>                     encoding<span style="color: rgb(98,98,98)">=</span>encoding, errors<span style="color: rgb(98,98,98)">=</span>errors)
<span class="ansi-green-fg">-&gt; 1036</span>     <span class="ansi-yellow-bg" style="color: rgb(0,135,0)">self</span><span class="ansi-yellow-bg" style="color: rgb(98,98,98)">.</span><span class="ansi-yellow-bg">_execute_child</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg">args</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg">executable</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg">preexec_fn</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg">close_fds</span><span class="ansi-yellow-bg">,</span>
<span class="ansi-green-intense-fg ansi-bold">   1037</span> <span class="ansi-yellow-bg">                        </span><span class="ansi-yellow-bg">pass_fds</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg">cwd</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg">env</span><span class="ansi-yellow-bg">,</span>
<span class="ansi-green-intense-fg ansi-bold">   1038</span> <span class="ansi-yellow-bg">                        </span><span class="ansi-yellow-bg">startupinfo</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg">creationflags</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg">shell</span><span class="ansi-yellow-bg">,</span>
<span class="ansi-green-intense-fg ansi-bold">   1039</span> <span class="ansi-yellow-bg">                        </span><span class="ansi-yellow-bg">p2cread</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg">p2cwrite</span><span class="ansi-yellow-bg">,</span>
<span class="ansi-green-intense-fg ansi-bold">   1040</span> <span class="ansi-yellow-bg">                        </span><span class="ansi-yellow-bg">c2pread</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg">c2pwrite</span><span class="ansi-yellow-bg">,</span>
<span class="ansi-green-intense-fg ansi-bold">   1041</span> <span class="ansi-yellow-bg">                        </span><span class="ansi-yellow-bg">errread</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg">errwrite</span><span class="ansi-yellow-bg">,</span>
<span class="ansi-green-intense-fg ansi-bold">   1042</span> <span class="ansi-yellow-bg">                        </span><span class="ansi-yellow-bg">restore_signals</span><span class="ansi-yellow-bg">,</span>
<span class="ansi-green-intense-fg ansi-bold">   1043</span> <span class="ansi-yellow-bg">                        </span><span class="ansi-yellow-bg">gid</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg">gids</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg">uid</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg">umask</span><span class="ansi-yellow-bg">,</span>
<span class="ansi-green-intense-fg ansi-bold">   1044</span> <span class="ansi-yellow-bg">                        </span><span class="ansi-yellow-bg">start_new_session</span><span class="ansi-yellow-bg">,</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg">process_group</span><span class="ansi-yellow-bg">)</span>
<span class="ansi-green-intense-fg ansi-bold">   1045</span> <span class="ansi-bold" style="color: rgb(0,135,0)">except</span>:
<span class="ansi-green-intense-fg ansi-bold">   1046</span>     <span style="color: rgb(95,135,135)"># Cleanup if the child failed starting.</span>
<span class="ansi-green-intense-fg ansi-bold">   1047</span>     <span class="ansi-bold" style="color: rgb(0,135,0)">for</span> f <span class="ansi-bold" style="color: rgb(175,0,255)">in</span> <span style="color: rgb(0,135,0)">filter</span>(<span class="ansi-bold" style="color: rgb(0,135,0)">None</span>, (<span style="color: rgb(0,135,0)">self</span><span style="color: rgb(98,98,98)">.</span>stdin, <span style="color: rgb(0,135,0)">self</span><span style="color: rgb(98,98,98)">.</span>stdout, <span style="color: rgb(0,135,0)">self</span><span style="color: rgb(98,98,98)">.</span>stderr)):

File <span class="ansi-green-fg">/opt/hostedtoolcache/Python/3.13.1/x64/lib/python3.13/subprocess.py:1966</span>, in <span class="ansi-cyan-fg">Popen._execute_child</span><span class="ansi-blue-fg">(self, args, executable, preexec_fn, close_fds, pass_fds, cwd, env, startupinfo, creationflags, shell, p2cread, p2cwrite, c2pread, c2pwrite, errread, errwrite, restore_signals, gid, gids, uid, umask, start_new_session, process_group)</span>
<span class="ansi-green-intense-fg ansi-bold">   1964</span>     err_msg <span style="color: rgb(98,98,98)">=</span> os<span style="color: rgb(98,98,98)">.</span>strerror(errno_num)
<span class="ansi-green-intense-fg ansi-bold">   1965</span> <span class="ansi-bold" style="color: rgb(0,135,0)">if</span> err_filename <span class="ansi-bold" style="color: rgb(175,0,255)">is</span> <span class="ansi-bold" style="color: rgb(175,0,255)">not</span> <span class="ansi-bold" style="color: rgb(0,135,0)">None</span>:
<span class="ansi-green-fg">-&gt; 1966</span>     <span class="ansi-bold" style="color: rgb(0,135,0)">raise</span> child_exception_type(errno_num, err_msg, err_filename)
<span class="ansi-green-intense-fg ansi-bold">   1967</span> <span class="ansi-bold" style="color: rgb(0,135,0)">else</span>:
<span class="ansi-green-intense-fg ansi-bold">   1968</span>     <span class="ansi-bold" style="color: rgb(0,135,0)">raise</span> child_exception_type(errno_num, err_msg)

<span class="ansi-red-fg">FileNotFoundError</span>: [Errno 2] No such file or directory: &#39;mrgrid&#39;
Full crash report for &#39;Split&#39; task is here: /home/runner/pydra-cache/workflow-aa0733005aed6954d1039271adcdabc8/_error.pklz
</pre></div></div>
</div>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="2-advanced-execution.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Advanced execution</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="../index.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Home</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2025, Nipype developers
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Getting started</a><ul>
<li><a class="reference internal" href="#Preparation">Preparation</a></li>
<li><a class="reference internal" href="#Running-your-first-task">Running your first task</a></li>
<li><a class="reference internal" href="#Iterating-over-inputs">Iterating over inputs</a></li>
<li><a class="reference internal" href="#Executing-tasks-in-parallel">Executing tasks in parallel</a></li>
<li><a class="reference internal" href="#File-system-locations">File-system locations</a></li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/scripts/furo.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    </body>
</html>